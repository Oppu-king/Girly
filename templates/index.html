<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nipa - Your Girly Lifestyle Hub ğŸ’–</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        .dancing-script { font-family: 'Dancing Script', cursive; }
        .poppins { font-family: 'Poppins', sans-serif; }
        
        .gradient-bg {
            background: linear-gradient(135deg, #fce7f3 0%, #f3e8ff 25%, #fdf2f8 50%, #ecfdf5 75%, #fce7f3 100%);
        }
        
        .floating {
            animation: floating 3s ease-in-out infinite;
        }
        
        .floating-delayed {
            animation: floating 3s ease-in-out infinite;
            animation-delay: 1.5s;
        }
        
        @keyframes floating {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .sparkle {
            animation: sparkle 2s ease-in-out infinite;
        }
        
        @keyframes sparkle {
            0%, 100% { opacity: 0.3; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.2); }
        }
        
        .heart-beat {
            animation: heartbeat 1.5s ease-in-out infinite;
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(236, 72, 153, 0.2);
        }
        
        .btn-gradient {
            background: linear-gradient(45deg, #ec4899, #a855f7);
        }
        
        .btn-gradient:hover {
            background: linear-gradient(45deg, #db2777, #9333ea);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chat-message {
            margin: 10px 0;
            padding: 10px 15px;
            border-radius: 20px;
            max-width: 80%;
        }

        .user-message {
            background: linear-gradient(45deg, #ec4899, #a855f7);
            color: white;
            margin-left: auto;
        }

        .ai-message {
            background: #f3e8ff;
            color: #7c3aed;
            margin-right: auto;
        }

        .loading {
            display: none;
        }

        .loading.active {
            display: block;
        }

        .typing-indicator {
            display: none;
            padding: 10px 15px;
            background: #f3e8ff;
            border-radius: 20px;
            margin: 10px 0;
            max-width: 80%;
        }

        .typing-indicator.active {
            display: block;
        }

        .typing-dots {
            display: inline-block;
            animation: typing 1.4s infinite;
        }

        @keyframes typing {
            0%, 60%, 100% { opacity: 0.3; }
            30% { opacity: 1; }
        }

        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.9);
            display: none;
            align-items: center;
            justify-content: center;
            border-radius: 1.5rem;
            z-index: 10;
        }

        .loading-overlay.active {
            display: flex;
        }
    </style>
</head>
<body class="gradient-bg min-h-screen poppins">
    <!-- Header -->
    <header class="bg-white/80 backdrop-blur-md shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-2">
                    <span class="text-4xl">ğŸŒº</span>
                    <h1 class="text-3xl font-bold dancing-script text-pink-600">Nipa</h1>
                </div>
                <nav class="hidden md:flex space-x-6">
                    <a href="#fashion" class="text-purple-600 hover:text-pink-500 transition-colors">Fashion</a>
                    <a href="#beauty" class="text-purple-600 hover:text-pink-500 transition-colors">Beauty</a>
                    <a href="#wellness" class="text-purple-600 hover:text-pink-500 transition-colors">Wellness</a>
                    <a href="#lifestyle" class="text-purple-600 hover:text-pink-500 transition-colors">Lifestyle</a>
                    <a href="#community" class="text-purple-600 hover:text-pink-500 transition-colors">Community</a>
                </nav>
                <button class="md:hidden text-pink-600" onclick="toggleMobileMenu()">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Mobile Menu -->
            <div id="mobileMenu" class="hidden md:hidden bg-white/95 backdrop-blur-md border-t border-pink-200">
                <div class="px-4 py-4 space-y-3">
                    <a href="#fashion" onclick="toggleMobileMenu()" class="block text-purple-600 hover:text-pink-500 transition-colors py-2">Fashion</a>
                    <a href="#beauty" onclick="toggleMobileMenu()" class="block text-purple-600 hover:text-pink-500 transition-colors py-2">Beauty</a>
                    <a href="#wellness" onclick="toggleMobileMenu()" class="block text-purple-600 hover:text-pink-500 transition-colors py-2">Wellness</a>
                    <a href="#lifestyle" onclick="toggleMobileMenu()" class="block text-purple-600 hover:text-pink-500 transition-colors py-2">Lifestyle</a>
                    <a href="#community" onclick="toggleMobileMenu()" class="block text-purple-600 hover:text-pink-500 transition-colors py-2">Community</a>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="py-20 px-4">
        <div class="container mx-auto text-center">
            <div class="floating mb-8">
                <span class="text-6xl">ğŸ’–</span>
            </div>
            <h2 class="text-5xl md:text-7xl font-bold dancing-script text-pink-600 mb-6">
                Welcome to Nipa
            </h2>
            <p class="text-xl md:text-2xl text-purple-700 mb-8 max-w-3xl mx-auto">
                Your all-in-one girly lifestyle hub for beauty, fashion, wellness, and everything that makes you sparkle! âœ¨
            </p>
            <button onclick="openAIChat()" class="btn-gradient text-white px-8 py-4 rounded-full text-lg font-semibold hover:scale-105 transition-transform shadow-lg">
                Start Your Glow-Up Journey ğŸŒŸ
            </button>
            
            <!-- Floating decorations -->
            <div class="absolute top-20 left-10 floating sparkle text-pink-400 text-2xl">âœ¨</div>
            <div class="absolute top-32 right-16 floating-delayed sparkle text-purple-400 text-3xl">ğŸ¦‹</div>
            <div class="absolute top-40 left-1/4 floating sparkle text-rose-400 text-2xl">ğŸ’•</div>
        </div>
    </section>

    <!-- AI & Personalization Section -->
    <section class="py-16 px-4 bg-gradient-to-r from-pink-50 to-purple-50" id="ai-features">
        <div class="container mx-auto">
            <h3 class="text-5xl font-bold dancing-script text-center text-pink-600 mb-6">
                ğŸ§  AI & Personalization Magic
            </h3>
            <p class="text-center text-purple-700 text-xl mb-12">Upload photos, get instant AI analysis, and discover your perfect style! âœ¨</p>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-16">
                <!-- AI Beauty Stylist -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-6 card-hover shadow-xl relative">
                    <div class="loading-overlay" id="aiBeautyLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2 animate-pulse">ğŸ¤³</div>
                            <div class="text-pink-600 font-semibold">Analyzing your beauty...</div>
                        </div>
                    </div>
                    <div class="text-center mb-4">
                        <span class="text-4xl">ğŸ¤³</span>
                        <h4 class="text-lg font-bold text-pink-600 mt-2 dancing-script">AI Beauty Stylist</h4>
                    </div>
                    <p class="text-sm text-purple-700 mb-4">Upload selfie â†’ get hair color, makeup & style suggestions!</p>
                    <button onclick="openAIBeautyStyler()" class="w-full bg-pink-500 text-white py-2 rounded-full hover:bg-pink-600 transition-colors text-sm font-semibold">
                        Analyze My Beauty ğŸ“¸
                    </button>
                </div>

                <!-- AI Closet -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-6 card-hover shadow-xl relative">
                    <div class="loading-overlay" id="aiClosetLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2 animate-spin">ğŸ‘—</div>
                            <div class="text-purple-600 font-semibold">Scanning your closet...</div>
                        </div>
                    </div>
                    <div class="text-center mb-4">
                        <span class="text-4xl">ğŸ‘—</span>
                        <h4 class="text-lg font-bold text-pink-600 mt-2 dancing-script">AI Smart Closet</h4>
                    </div>
                    <p class="text-sm text-purple-700 mb-4">Scan clothes â†’ create infinite outfit combinations!</p>
                    <button onclick="openAICloset()" class="w-full bg-purple-500 text-white py-2 rounded-full hover:bg-purple-600 transition-colors text-sm font-semibold">
                        Scan My Closet ğŸ“±
                    </button>
                </div>

                <!-- Personalized Skincare AI -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-6 card-hover shadow-xl relative">
                    <div class="loading-overlay" id="skinAnalysisLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2 animate-bounce">ğŸ”</div>
                            <div class="text-green-600 font-semibold">Analyzing your skin...</div>
                        </div>
                    </div>
                    <div class="text-center mb-4">
                        <span class="text-4xl">ğŸ”</span>
                        <h4 class="text-lg font-bold text-pink-600 mt-2 dancing-script">Skin Analysis AI</h4>
                    </div>
                    <p class="text-sm text-purple-700 mb-4">Photo skin scan â†’ detect issues â†’ custom routine!</p>
                    <button onclick="openSkinAnalysis()" class="w-full bg-green-500 text-white py-2 rounded-full hover:bg-green-600 transition-colors text-sm font-semibold">
                        Scan My Skin ğŸ§´
                    </button>
                </div>

                <!-- Voice Bestie -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-6 card-hover shadow-xl relative">
                    <div class="loading-overlay" id="voiceAssistantLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2 animate-pulse">ğŸ¤</div>
                            <div class="text-rose-600 font-semibold">Listening to you...</div>
                        </div>
                    </div>
                    <div class="text-center mb-4">
                        <span class="text-4xl">ğŸ¤</span>
                        <h4 class="text-lg font-bold text-pink-600 mt-2 dancing-script">Voice Bestie</h4>
                    </div>
                    <p class="text-sm text-purple-700 mb-4">"Hey Nipa, what should I wear?" - Voice assistant!</p>
                    <button onclick="startVoiceAssistant()" class="w-full bg-rose-500 text-white py-2 rounded-full hover:bg-rose-600 transition-colors text-sm font-semibold">
                        Talk to Nipa ğŸ—£ï¸
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Fashion & Beauty Tech Section -->
    <section class="py-16 px-4 bg-gradient-to-r from-purple-50 to-pink-50">
        <div class="container mx-auto">
            <h3 class="text-5xl font-bold dancing-script text-center text-purple-600 mb-6">
                ğŸ‘— Fashion & Beauty Tech
            </h3>
            <p class="text-center text-pink-700 text-xl mb-12">AR try-ons, trend scanning, and virtual styling! ğŸŒŸ</p>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-16">
                <!-- Virtual AR Try-On -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-6 card-hover shadow-xl relative">
                    <div class="loading-overlay" id="arTryOnLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2 animate-bounce">ğŸ“±</div>
                            <div class="text-indigo-600 font-semibold">Starting AR camera...</div>
                        </div>
                    </div>
                    <div class="text-center mb-4">
                        <span class="text-4xl">ğŸ“±</span>
                        <h4 class="text-lg font-bold text-pink-600 mt-2 dancing-script">AR Try-On</h4>
                    </div>
                    <p class="text-sm text-purple-700 mb-4">Try dresses, makeup, hairstyles in real-time!</p>
                    <button onclick="openARTryOn()" class="w-full bg-indigo-500 text-white py-2 rounded-full hover:bg-indigo-600 transition-colors text-sm font-semibold">
                        Start AR Try-On ğŸ”®
                    </button>
                </div>

                <!-- Trend Scanner -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-6 card-hover shadow-xl relative">
                    <div class="loading-overlay" id="trendScannerLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2 animate-spin">ğŸ”</div>
                            <div class="text-pink-600 font-semibold">Scanning trends...</div>
                        </div>
                    </div>
                    <div class="text-center mb-4">
                        <span class="text-4xl">ğŸ”</span>
                        <h4 class="text-lg font-bold text-pink-600 mt-2 dancing-script">Trend Scanner</h4>
                    </div>
                    <p class="text-sm text-purple-700 mb-4">AI scans social media â†’ shows trending looks!</p>
                    <button onclick="openTrendScanner()" class="w-full bg-pink-500 text-white py-2 rounded-full hover:bg-pink-600 transition-colors text-sm font-semibold">
                        Scan Trends ğŸ“ˆ
                    </button>
                </div>

                <!-- Wardrobe AI Swap -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-6 card-hover shadow-xl relative">
                    <div class="loading-overlay" id="wardrobeSwapLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2 animate-pulse">ğŸ”„</div>
                            <div class="text-purple-600 font-semibold">Swapping styles...</div>
                        </div>
                    </div>
                    <div class="text-center mb-4">
                        <span class="text-4xl">ğŸ”„</span>
                        <h4 class="text-lg font-bold text-pink-600 mt-2 dancing-script">Style Swapper</h4>
                    </div>
                    <p class="text-sm text-purple-700 mb-4">Replace items in looks â†’ endless combinations!</p>
                    <button onclick="openWardrobeSwap()" class="w-full bg-purple-500 text-white py-2 rounded-full hover:bg-purple-600 transition-colors text-sm font-semibold">
                        Swap Styles ğŸ¨
                    </button>
                </div>

                <!-- Makeup Palette Generator -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-6 card-hover shadow-xl relative">
                    <div class="loading-overlay" id="paletteGeneratorLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2 animate-pulse">ğŸ¨</div>
                            <div class="text-rose-600 font-semibold">Creating palette...</div>
                        </div>
                    </div>
                    <div class="text-center mb-4">
                        <span class="text-4xl">ğŸ¨</span>
                        <h4 class="text-lg font-bold text-pink-600 mt-2 dancing-script">Palette Generator</h4>
                    </div>
                    <p class="text-sm text-purple-700 mb-4">Upload outfit â†’ get perfect makeup colors!</p>
                    <button onclick="openPaletteGenerator()" class="w-full bg-rose-500 text-white py-2 rounded-full hover:bg-rose-600 transition-colors text-sm font-semibold">
                        Generate Palette ğŸ’„
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Grid -->
    <section class="py-16 px-4" id="features">
        <div class="container mx-auto">
            <h3 class="text-4xl font-bold dancing-script text-center text-pink-600 mb-12">
                Everything You Love in One Place ğŸ’
            </h3>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Fashion Card -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-8 card-hover shadow-xl flex flex-col relative" id="fashion">
                    <div class="loading-overlay" id="fashionLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2">âœ¨</div>
                            <div class="text-pink-600 font-semibold">Nipa is styling...</div>
                        </div>
                    </div>
                    <div class="text-center mb-6">
                        <span class="text-5xl">ğŸ‘—</span>
                        <h4 class="text-2xl font-bold text-pink-600 mt-4 dancing-script">Fashion & Style</h4>
                    </div>
                    <ul class="space-y-3 text-purple-700 flex-grow">
                        <li class="flex items-center"><span class="mr-2">âœ¨</span> AI Outfit Generator</li>
                        <li class="flex items-center"><span class="mr-2">ğŸ‘š</span> Virtual Closet Manager</li>
                        <li class="flex items-center"><span class="mr-2">ğŸ“±</span> Style Quiz & Recommendations</li>
                        <li class="flex items-center"><span class="mr-2">ğŸŒŸ</span> Trend Analysis</li>
                    </ul>
                    <button onclick="openFashionTool()" class="w-full mt-6 bg-pink-500 text-white py-3 rounded-full hover:bg-pink-600 transition-colors font-semibold">
                        Get Outfit Ideas ğŸ’„
                    </button>
                </div>

                <!-- Beauty Card -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-8 card-hover shadow-xl flex flex-col relative" id="beauty">
                    <div class="loading-overlay" id="beautyLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2">ğŸ’„</div>
                            <div class="text-purple-600 font-semibold">Creating your routine...</div>
                        </div>
                    </div>
                    <div class="text-center mb-6">
                        <span class="text-5xl">ğŸ’„</span>
                        <h4 class="text-2xl font-bold text-pink-600 mt-4 dancing-script">Beauty & Skincare</h4>
                    </div>
                    <ul class="space-y-3 text-purple-700 flex-grow">
                        <li class="flex items-center"><span class="mr-2">ğŸ§´</span> Custom Skincare Routine</li>
                        <li class="flex items-center"><span class="mr-2">ğŸ’‹</span> Makeup Look Generator</li>
                        <li class="flex items-center"><span class="mr-2">â­</span> Product Matcher</li>
                        <li class="flex items-center"><span class="mr-2">ğŸ¥’</span> DIY Recipe Creator</li>
                    </ul>
                    <button onclick="openBeautyTool()" class="w-full mt-6 bg-purple-500 text-white py-3 rounded-full hover:bg-purple-600 transition-colors font-semibold">
                        Build Skincare Routine âœ¨
                    </button>
                </div>

                <!-- Wellness Card -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-8 card-hover shadow-xl flex flex-col relative" id="wellness">
                    <div class="loading-overlay" id="wellnessLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2">ğŸ§˜</div>
                            <div class="text-green-600 font-semibold">Planning your wellness...</div>
                        </div>
                    </div>
                    <div class="text-center mb-6">
                        <span class="text-5xl">ğŸ§˜</span>
                        <h4 class="text-2xl font-bold text-pink-600 mt-4 dancing-script">Health & Wellness</h4>
                    </div>
                    <ul class="space-y-3 text-purple-700 flex-grow">
                        <li class="flex items-center"><span class="mr-2">ğŸ“…</span> Period & Cycle Tracker</li>
                        <li class="flex items-center"><span class="mr-2">ğŸ§˜â€â™€ï¸</span> Personalized Workouts</li>
                        <li class="flex items-center"><span class="mr-2">ğŸ’ª</span> Fitness Goal Planner</li>
                        <li class="flex items-center"><span class="mr-2">ğŸ¥—</span> Nutrition Calculator</li>
                    </ul>
                    <button onclick="openWellnessTool()" class="w-full mt-6 bg-green-400 text-white py-3 rounded-full hover:bg-green-500 transition-colors font-semibold">
                        Track Your Wellness ğŸŒ±
                    </button>
                </div>

                <!-- Lifestyle Card -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-8 card-hover shadow-xl flex flex-col relative" id="lifestyle">
                    <div class="loading-overlay" id="lifestyleLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2">ğŸ’•</div>
                            <div class="text-rose-600 font-semibold">Caring for you...</div>
                        </div>
                    </div>
                    <div class="text-center mb-6">
                        <span class="text-5xl">ğŸ’•</span>
                        <h4 class="text-2xl font-bold text-pink-600 mt-4 dancing-script">Love & Self-Care</h4>
                    </div>
                    <ul class="space-y-3 text-purple-700 flex-grow">
                        <li class="flex items-center"><span class="mr-2">ğŸ’</span> Relationship Advice AI</li>
                        <li class="flex items-center"><span class="mr-2">ğŸ‘­</span> Mood Tracker & Journal</li>
                        <li class="flex items-center"><span class="mr-2">ğŸ“</span> Daily Affirmations</li>
                        <li class="flex items-center"><span class="mr-2">ğŸŒ¸</span> Self-Care Planner</li>
                    </ul>
                    <button onclick="openLifestyleTool()" class="w-full mt-6 bg-rose-500 text-white py-3 rounded-full hover:bg-rose-600 transition-colors font-semibold">
                        Start Self-Care Journey ğŸ’†â€â™€ï¸
                    </button>
                </div>

                <!-- Shopping Card -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-8 card-hover shadow-xl flex flex-col relative">
                    <div class="loading-overlay" id="shoppingLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2">ğŸ›ï¸</div>
                            <div class="text-indigo-600 font-semibold">Finding best deals...</div>
                        </div>
                    </div>
                    <div class="text-center mb-6">
                        <span class="text-5xl">ğŸ›ï¸</span>
                        <h4 class="text-2xl font-bold text-pink-600 mt-4 dancing-script">Smart Shopping</h4>
                    </div>
                    <ul class="space-y-3 text-purple-700 flex-grow">
                        <li class="flex items-center"><span class="mr-2">ğŸ›’</span> AI Product Finder</li>
                        <li class="flex items-center"><span class="mr-2">ğŸ’</span> Price Comparison</li>
                        <li class="flex items-center"><span class="mr-2">ğŸ·ï¸</span> Deal Alerts</li>
                        <li class="flex items-center"><span class="mr-2">ğŸ’³</span> Budget Tracker</li>
                    </ul>
                    <button onclick="openShoppingTool()" class="w-full mt-6 bg-indigo-500 text-white py-3 rounded-full hover:bg-indigo-600 transition-colors font-semibold">
                        Find Best Deals ğŸ’¸
                    </button>
                </div>

                <!-- Community Card -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-8 card-hover shadow-xl flex flex-col relative" id="community">
                    <div class="loading-overlay" id="communityLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2">ğŸ‘©â€â¤ï¸â€ğŸ‘©</div>
                            <div class="text-pink-600 font-semibold">Connecting with girls...</div>
                        </div>
                    </div>
                    <div class="text-center mb-6">
                        <span class="text-5xl">ğŸ‘©â€â¤ï¸â€ğŸ‘©</span>
                        <h4 class="text-2xl font-bold text-pink-600 mt-4 dancing-script">Girly Community</h4>
                    </div>
                    <ul class="space-y-3 text-purple-700 flex-grow">
                        <li class="flex items-center"><span class="mr-2">ğŸ’¬</span> Anonymous Chat Rooms</li>
                        <li class="flex items-center"><span class="mr-2">ğŸ†</span> Style Challenges</li>
                        <li class="flex items-center"><span class="mr-2">ğŸ™ï¸</span> Voice Notes Sharing</li>
                        <li class="flex items-center"><span class="mr-2">ğŸ”’</span> Safe Q&A Forum</li>
                    </ul>
                    <button onclick="openCommunityTool()" class="w-full mt-6 bg-pink-500 text-white py-3 rounded-full hover:bg-pink-600 transition-colors font-semibold">
                        Join Girl Talk ğŸ‘¯â€â™€ï¸
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Assistant Section -->
    <section class="py-16 px-4 bg-white/50">
        <div class="container mx-auto text-center">
            <div class="floating-delayed mb-8">
                <span class="text-6xl">ğŸ¤–</span>
            </div>
            <h3 class="text-4xl font-bold dancing-script text-pink-600 mb-6">
                Meet Your AI Bestie! ğŸ’•
            </h3>
            <p class="text-xl text-purple-700 mb-8 max-w-2xl mx-auto">
                Get personalized beauty advice, fashion tips, and lifestyle guidance from our AI assistant powered by DeepSeek! âœ¨
            </p>
            <div class="bg-white rounded-3xl p-8 max-w-md mx-auto shadow-xl">
                <div class="flex items-center space-x-4 mb-4">
                    <div class="w-12 h-12 bg-gradient-to-r from-pink-400 to-purple-500 rounded-full flex items-center justify-center">
                        <span class="text-white text-xl">ğŸ’–</span>
                    </div>
                    <div class="text-left">
                        <h4 class="font-semibold text-pink-600">Nipa AI</h4>
                        <p class="text-sm text-purple-500">Your Style Bestie</p>
                    </div>
                </div>
                <div class="bg-pink-50 rounded-2xl p-4 text-left">
                    <p class="text-purple-700">"Hey gorgeous! I'm here to help with fashion, beauty, wellness, and everything girly! What would you like to chat about? ğŸ’„âœ¨"</p>
                </div>
                <button onclick="openAIChat()" class="w-full mt-4 btn-gradient text-white py-3 rounded-full hover:scale-105 transition-transform">
                    Chat with AI Bestie ğŸ’¬
                </button>
            </div>
        </div>
    </section>

    <!-- Modals -->
    <!-- AI Chat Modal -->
    <div id="aiChatModal" class="modal">
        <div class="bg-white rounded-3xl p-6 max-w-md w-full mx-4 max-h-[80vh] flex flex-col">
            <div class="flex items-center justify-between mb-4">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-r from-pink-400 to-purple-500 rounded-full flex items-center justify-center">
                        <span class="text-white">ğŸ’–</span>
                    </div>
                    <div>
                        <h3 class="font-bold text-pink-600">Nipa AI</h3>
                        <p class="text-sm text-purple-500">Online</p>
                    </div>
                </div>
                <button onclick="closeModal('aiChatModal')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div id="chatMessages" class="flex-1 overflow-y-auto mb-4 space-y-2 max-h-96">
                <div class="ai-message chat-message">
                    <p>Hi beautiful! ğŸ’• I'm your AI bestie here to help with fashion, beauty, wellness, and all things girly! What would you like to chat about today? âœ¨</p>
                </div>
            </div>
            
            <div class="typing-indicator" id="typingIndicator">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-gradient-to-r from-pink-400 to-purple-500 rounded-full flex items-center justify-center">
                        <span class="text-white text-sm">ğŸ’–</span>
                    </div>
                    <div class="text-purple-600">
                        <span class="typing-dots">Nipa is typing</span>
                        <span class="typing-dots">.</span>
                        <span class="typing-dots">.</span>
                        <span class="typing-dots">.</span>
                    </div>
                </div>
            </div>
            
            <div class="flex items-center space-x-2 mt-4">
                <input type="text" id="chatInput" placeholder="Type your message..." class="flex-1 px-4 py-3 border border-pink-300 rounded-full focus:outline-none focus:border-pink-500 text-sm">
                <button onclick="sendMessage()" class="bg-pink-500 text-white px-6 py-3 rounded-full hover:bg-pink-600 transition-colors font-semibold text-sm flex-shrink-0">
                    Send ğŸ’•
                </button>
            </div>
        </div>
    </div>

    <!-- Fashion Tool Modal -->
    <div id="fashionModal" class="modal">
        <div class="bg-white rounded-3xl p-6 max-w-lg w-full mx-4 max-h-[80vh] overflow-y-auto relative">
            <div class="loading-overlay" id="fashionModalLoading">
                <div class="text-center">
                    <div class="text-4xl mb-2 animate-bounce">âœ¨</div>
                    <div class="text-pink-600 font-semibold">Nipa is creating your perfect outfit...</div>
                </div>
            </div>
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-bold text-pink-600 dancing-script">Fashion Stylist AI ğŸ‘—</h3>
                <button onclick="closeModal('fashionModal')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-purple-700 font-semibold mb-2">Occasion</label>
                    <select id="fashionOccasion" class="w-full px-4 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                        <option value="">Select occasion...</option>
                        <option value="casual">Casual Day Out</option>
                        <option value="work">Office/Work</option>
                        <option value="date">Date Night</option>
                        <option value="party">Party/Event</option>
                        <option value="gym">Gym/Workout</option>
                        <option value="travel">Travel</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-purple-700 font-semibold mb-2">Weather</label>
                    <select id="fashionWeather" class="w-full px-4 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                        <option value="">Select weather...</option>
                        <option value="hot">Hot & Sunny</option>
                        <option value="mild">Mild & Pleasant</option>
                        <option value="cold">Cold & Chilly</option>
                        <option value="rainy">Rainy</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-purple-700 font-semibold mb-2">Style Preference</label>
                    <select id="fashionStyle" class="w-full px-4 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                        <option value="">Select style...</option>
                        <option value="cute">Cute & Girly</option>
                        <option value="chic">Chic & Elegant</option>
                        <option value="boho">Boho & Free-spirited</option>
                        <option value="edgy">Edgy & Bold</option>
                        <option value="minimal">Minimal & Clean</option>
                        <option value="vintage">Vintage & Retro</option>
                    </select>
                </div>
                
                <button onclick="generateOutfit()" class="w-full bg-pink-500 text-white py-3 rounded-full hover:bg-pink-600 transition-colors font-semibold">
                    Generate Perfect Outfit âœ¨
                </button>
                
                <div id="outfitResult" class="mt-6 p-4 bg-pink-50 rounded-lg hidden">
                    <h4 class="font-bold text-pink-600 mb-2">Your Perfect Outfit ğŸ’•</h4>
                    <div id="outfitContent"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Beauty Tool Modal -->
    <div id="beautyModal" class="modal">
        <div class="bg-white rounded-3xl p-6 max-w-lg w-full mx-4 max-h-[80vh] overflow-y-auto relative">
            <div class="loading-overlay" id="beautyModalLoading">
                <div class="text-center">
                    <div class="text-4xl mb-2 animate-pulse">ğŸ’„</div>
                    <div class="text-purple-600 font-semibold">Creating your custom skincare routine...</div>
                </div>
            </div>
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-bold text-pink-600 dancing-script">Beauty & Skincare AI ğŸ’„</h3>
                <button onclick="closeModal('beautyModal')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-purple-700 font-semibold mb-2">Skin Type</label>
                    <select id="skinType" class="w-full px-4 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                        <option value="">Select skin type...</option>
                        <option value="oily">Oily</option>
                        <option value="dry">Dry</option>
                        <option value="combination">Combination</option>
                        <option value="sensitive">Sensitive</option>
                        <option value="normal">Normal</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-purple-700 font-semibold mb-2">Main Skin Concerns</label>
                    <select id="skinConcerns" class="w-full px-4 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                        <option value="">Select main concern...</option>
                        <option value="acne">Acne & Breakouts</option>
                        <option value="aging">Anti-aging & Wrinkles</option>
                        <option value="dark-spots">Dark Spots & Pigmentation</option>
                        <option value="dullness">Dullness & Uneven Tone</option>
                        <option value="pores">Large Pores</option>
                        <option value="hydration">Dehydration</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-purple-700 font-semibold mb-2">Budget Range</label>
                    <select id="beautyBudget" class="w-full px-4 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                        <option value="">Select budget...</option>
                        <option value="budget">Budget-friendly ($10-30)</option>
                        <option value="mid">Mid-range ($30-80)</option>
                        <option value="luxury">Luxury ($80+)</option>
                        <option value="mixed">Mix of all ranges</option>
                    </select>
                </div>
                
                <button onclick="generateSkincareRoutine()" class="w-full bg-purple-500 text-white py-3 rounded-full hover:bg-purple-600 transition-colors font-semibold">
                    Create My Skincare Routine âœ¨
                </button>
                
                <div id="skincareResult" class="mt-6 p-4 bg-purple-50 rounded-lg hidden">
                    <h4 class="font-bold text-purple-600 mb-2">Your Custom Skincare Routine ğŸ’œ</h4>
                    <div id="skincareContent"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Wellness Tool Modal -->
    <div id="wellnessModal" class="modal">
        <div class="bg-white rounded-3xl p-6 max-w-lg w-full mx-4 max-h-[80vh] overflow-y-auto relative">
            <div class="loading-overlay" id="wellnessModalLoading">
                <div class="text-center">
                    <div class="text-4xl mb-2 animate-spin">ğŸ§˜</div>
                    <div class="text-green-600 font-semibold">Planning your wellness journey...</div>
                </div>
            </div>
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-bold text-pink-600 dancing-script">Wellness Tracker ğŸ§˜</h3>
                <button onclick="closeModal('wellnessModal')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="space-y-6">
                <!-- Period Tracker -->
                <div class="bg-pink-50 p-4 rounded-lg">
                    <h4 class="font-bold text-pink-600 mb-3">Period Tracker ğŸŒ¸</h4>
                    <div class="space-y-3">
                        <div>
                            <label class="block text-purple-700 mb-1">Last Period Start Date</label>
                            <input type="date" id="lastPeriod" class="w-full px-3 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                        </div>
                        <div>
                            <label class="block text-purple-700 mb-1">Cycle Length (days)</label>
                            <input type="number" id="cycleLength" value="28" min="21" max="35" class="w-full px-3 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                        </div>
                        <button onclick="calculateCycle()" class="w-full bg-pink-500 text-white py-2 rounded-lg hover:bg-pink-600 transition-colors">
                            Calculate Next Period ğŸ“…
                        </button>
                        <div id="cycleResult" class="hidden mt-3 p-3 bg-white rounded-lg"></div>
                    </div>
                </div>
                
                <!-- Fitness Planner -->
                <div class="bg-green-50 p-4 rounded-lg">
                    <h4 class="font-bold text-green-600 mb-3">Fitness Planner ğŸ’ª</h4>
                    <div class="space-y-3">
                        <div>
                            <label class="block text-purple-700 mb-1">Fitness Goal</label>
                            <select id="fitnessGoal" class="w-full px-3 py-2 border border-green-300 rounded-lg focus:outline-none focus:border-green-500">
                                <option value="">Select goal...</option>
                                <option value="weight-loss">Weight Loss</option>
                                <option value="toning">Toning & Sculpting</option>
                                <option value="strength">Build Strength</option>
                                <option value="flexibility">Improve Flexibility</option>
                                <option value="general">General Fitness</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-purple-700 mb-1">Available Time (minutes/day)</label>
                            <select id="workoutTime" class="w-full px-3 py-2 border border-green-300 rounded-lg focus:outline-none focus:border-green-500">
                                <option value="">Select time...</option>
                                <option value="15">15 minutes</option>
                                <option value="30">30 minutes</option>
                                <option value="45">45 minutes</option>
                                <option value="60">1 hour</option>
                                <option value="90">1.5 hours</option>
                            </select>
                        </div>
                        <button onclick="generateWorkoutPlan()" class="w-full bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition-colors">
                            Create Workout Plan ğŸƒâ€â™€ï¸
                        </button>
                        <div id="workoutResult" class="hidden mt-3 p-3 bg-white rounded-lg"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Lifestyle Tool Modal -->
    <div id="lifestyleModal" class="modal">
        <div class="bg-white rounded-3xl p-6 max-w-lg w-full mx-4 max-h-[80vh] overflow-y-auto relative">
            <div class="loading-overlay" id="lifestyleModalLoading">
                <div class="text-center">
                    <div class="text-4xl mb-2 animate-pulse">ğŸ’•</div>
                    <div class="text-rose-600 font-semibold">Caring for your wellbeing...</div>
                </div>
            </div>
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-bold text-pink-600 dancing-script">Self-Care & Lifestyle ğŸ’•</h3>
                <button onclick="closeModal('lifestyleModal')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="space-y-6">
                <!-- Mood Tracker -->
                <div class="bg-rose-50 p-4 rounded-lg">
                    <h4 class="font-bold text-rose-600 mb-3">Daily Mood Tracker ğŸ˜Š</h4>
                    <div class="space-y-3">
                        <div>
                            <label class="block text-purple-700 mb-2">How are you feeling today?</label>
                            <div class="grid grid-cols-5 gap-2">
                                <button onclick="selectMood('ğŸ˜¢', 'sad')" class="mood-btn p-3 text-2xl border border-rose-300 rounded-lg hover:bg-rose-100 transition-colors">ğŸ˜¢</button>
                                <button onclick="selectMood('ğŸ˜', 'neutral')" class="mood-btn p-3 text-2xl border border-rose-300 rounded-lg hover:bg-rose-100 transition-colors">ğŸ˜</button>
                                <button onclick="selectMood('ğŸ™‚', 'okay')" class="mood-btn p-3 text-2xl border border-rose-300 rounded-lg hover:bg-rose-100 transition-colors">ğŸ™‚</button>
                                <button onclick="selectMood('ğŸ˜Š', 'happy')" class="mood-btn p-3 text-2xl border border-rose-300 rounded-lg hover:bg-rose-100 transition-colors">ğŸ˜Š</button>
                                <button onclick="selectMood('ğŸ¥°', 'amazing')" class="mood-btn p-3 text-2xl border border-rose-300 rounded-lg hover:bg-rose-100 transition-colors">ğŸ¥°</button>
                            </div>
                        </div>
                        <div id="moodResult" class="hidden p-3 bg-white rounded-lg"></div>
                    </div>
                </div>
                
                <!-- Daily Affirmations -->
                <div class="bg-purple-50 p-4 rounded-lg">
                    <h4 class="font-bold text-purple-600 mb-3">Daily Affirmations âœ¨</h4>
                    <button onclick="generateAffirmation()" class="w-full bg-purple-500 text-white py-2 rounded-lg hover:bg-purple-600 transition-colors mb-3">
                        Get My Daily Affirmation ğŸŒŸ
                    </button>
                    <div id="affirmationResult" class="hidden p-3 bg-white rounded-lg text-center"></div>
                </div>
                
                <!-- Self-Care Planner -->
                <div class="bg-pink-50 p-4 rounded-lg">
                    <h4 class="font-bold text-pink-600 mb-3">Self-Care Planner ğŸ›</h4>
                    <div class="space-y-3">
                        <div>
                            <label class="block text-purple-700 mb-1">Available Time</label>
                            <select id="selfCareTime" class="w-full px-3 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                                <option value="">Select time...</option>
                                <option value="5">5 minutes</option>
                                <option value="15">15 minutes</option>
                                <option value="30">30 minutes</option>
                                <option value="60">1 hour</option>
                                <option value="120">2+ hours</option>
                            </select>
                        </div>
                        <button onclick="generateSelfCare()" class="w-full bg-pink-500 text-white py-2 rounded-lg hover:bg-pink-600 transition-colors">
                            Plan My Self-Care Time ğŸ’†â€â™€ï¸
                        </button>
                        <div id="selfCareResult" class="hidden mt-3 p-3 bg-white rounded-lg"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Shopping Tool Modal -->
    <div id="shoppingModal" class="modal">
        <div class="bg-white rounded-3xl p-6 max-w-lg w-full mx-4 max-h-[80vh] overflow-y-auto relative">
            <div class="loading-overlay" id="shoppingModalLoading">
                <div class="text-center">
                    <div class="text-4xl mb-2 animate-bounce">ğŸ›ï¸</div>
                    <div class="text-indigo-600 font-semibold">Finding the best deals for you...</div>
                </div>
            </div>
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-bold text-pink-600 dancing-script">Smart Shopping Assistant ğŸ›ï¸</h3>
                <button onclick="closeModal('shoppingModal')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-purple-700 font-semibold mb-2">What are you shopping for?</label>
                    <select id="shoppingCategory" class="w-full px-4 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                        <option value="">Select category...</option>
                        <option value="makeup">Makeup & Cosmetics</option>
                        <option value="skincare">Skincare Products</option>
                        <option value="fashion">Fashion & Clothing</option>
                        <option value="accessories">Accessories & Jewelry</option>
                        <option value="wellness">Wellness & Self-Care</option>
                        <option value="home">Home & Decor</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-purple-700 font-semibold mb-2">Budget Range</label>
                    <select id="shoppingBudget" class="w-full px-4 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                        <option value="">Select budget...</option>
                        <option value="under-25">Under $25</option>
                        <option value="25-50">$25 - $50</option>
                        <option value="50-100">$50 - $100</option>
                        <option value="100-200">$100 - $200</option>
                        <option value="over-200">Over $200</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-purple-700 font-semibold mb-2">Specific Item (Optional)</label>
                    <input type="text" id="specificItem" placeholder="e.g., red lipstick, summer dress..." class="w-full px-4 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                </div>
                
                <button onclick="findProducts()" class="w-full bg-indigo-500 text-white py-3 rounded-full hover:bg-indigo-600 transition-colors font-semibold">
                    Find Best Products & Deals ğŸ’
                </button>
                
                <div id="shoppingResult" class="mt-6 p-4 bg-indigo-50 rounded-lg hidden">
                    <h4 class="font-bold text-indigo-600 mb-2">Shopping Recommendations ğŸ›’</h4>
                    <div id="shoppingContent"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Community Tool Modal -->
    <div id="communityModal" class="modal">
        <div class="bg-white rounded-3xl p-6 max-w-lg w-full mx-4 max-h-[80vh] overflow-y-auto relative">
            <div class="loading-overlay" id="communityModalLoading">
                <div class="text-center">
                    <div class="text-4xl mb-2 animate-pulse">ğŸ‘©â€â¤ï¸â€ğŸ‘©</div>
                    <div class="text-pink-600 font-semibold">Connecting with the community...</div>
                </div>
            </div>
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-bold text-pink-600 dancing-script">Girly Community ğŸ‘¯â€â™€ï¸</h3>
                <button onclick="closeModal('communityModal')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="space-y-4">
                <div class="bg-pink-50 p-4 rounded-lg">
                    <h4 class="font-bold text-pink-600 mb-3">Anonymous Q&A ğŸ’­</h4>
                    <textarea id="anonymousQuestion" placeholder="Ask anything... relationships, beauty, life advice..." class="w-full px-3 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500 h-20 resize-none"></textarea>
                    <button onclick="submitAnonymousQuestion()" class="w-full mt-2 bg-pink-500 text-white py-2 rounded-lg hover:bg-pink-600 transition-colors">
                        Submit Anonymous Question ğŸ¤«
                    </button>
                </div>
                
                <div class="bg-purple-50 p-4 rounded-lg">
                    <h4 class="font-bold text-purple-600 mb-3">Daily Girl Talk Topics ğŸ’¬</h4>
                    <button onclick="generateGirlTalkTopic()" class="w-full bg-purple-500 text-white py-2 rounded-lg hover:bg-purple-600 transition-colors">
                        Get Today's Discussion Topic âœ¨
                    </button>
                    <div id="girlTalkResult" class="hidden mt-3 p-3 bg-white rounded-lg"></div>
                </div>
                
                <div class="bg-rose-50 p-4 rounded-lg">
                    <h4 class="font-bold text-rose-600 mb-3">Style Challenge ğŸ†</h4>
                    <button onclick="generateStyleChallenge()" class="w-full bg-rose-500 text-white py-2 rounded-lg hover:bg-rose-600 transition-colors">
                        Get Weekly Style Challenge ğŸ‘—
                    </button>
                    <div id="styleChallengeResult" class="hidden mt-3 p-3 bg-white rounded-lg"></div>
                </div>
                
                <div id="communityResponse" class="hidden mt-4 p-4 bg-green-50 rounded-lg">
                    <div id="communityContent"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Beauty Stylist Modal -->
    <div id="aiBeautyModal" class="modal">
        <div class="bg-white rounded-3xl p-6 max-w-lg w-full mx-4 max-h-[80vh] overflow-y-auto relative">
            <div class="loading-overlay" id="aiBeautyModalLoading">
                <div class="text-center">
                    <div class="text-4xl mb-2 animate-pulse">ğŸ¤³</div>
                    <div class="text-pink-600 font-semibold">Analyzing your beauty features...</div>
                </div>
            </div>
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-bold text-pink-600 dancing-script">AI Beauty Stylist ğŸ¤³</h3>
                <button onclick="closeModal('aiBeautyModal')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="space-y-4">
                <div class="bg-pink-50 p-4 rounded-lg">
                    <h4 class="font-bold text-pink-600 mb-3">Upload Your Selfie ğŸ“¸</h4>
                    <input type="file" id="beautyPhoto" accept="image/*" class="w-full px-3 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                    <div id="beautyPreview" class="mt-3 hidden">
                        <img id="beautyImage" class="w-full max-w-xs mx-auto rounded-lg" alt="Your photo">
                    </div>
                </div>
                
                <div class="space-y-3">
                    <div>
                        <label class="block text-purple-700 font-semibold mb-2">Analysis Type</label>
                        <select id="analysisType" class="w-full px-4 py-2 border border-pink-300 rounded-lg focus:outline-none focus:border-pink-500">
                            <option value="complete">Complete Beauty Analysis</option>
                            <option value="hair">Hair Color Suggestions</option>
                            <option value="makeup">Makeup Look Ideas</option>
                            <option value="style">Fashion Style Match</option>
                            <option value="skincare">Skincare Recommendations</option>
                        </select>
                    </div>
                    
                    <button onclick="analyzeBeauty()" class="w-full bg-pink-500 text-white py-3 rounded-full hover:bg-pink-600 transition-colors font-semibold">
                        Analyze My Beauty âœ¨
                    </button>
                </div>
                
                <div id="beautyAnalysisResult" class="hidden mt-6 p-4 bg-pink-50 rounded-lg">
                    <h4 class="font-bold text-pink-600 mb-2">Your Beauty Analysis ğŸ’•</h4>
                    <div id="beautyAnalysisContent"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Smart Closet Modal -->
    <div id="aiClosetModal" class="modal">
        <div class="bg-white rounded-3xl p-6 max-w-lg w-full mx-4 max-h-[80vh] overflow-y-auto relative">
            <div class="loading-overlay" id="aiClosetModalLoading">
                <div class="text-center">
                    <div class="text-4xl mb-2 animate-spin">ğŸ‘—</div>
                    <div class="text-purple-600 font-semibold">Scanning your closet items...</div>
                </div>
            </div>
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-bold text-pink-600 dancing-script">AI Smart Closet ğŸ‘—</h3>
                <button onclick="closeModal('aiClosetModal')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="space-y-4">
                <div class="bg-purple-50 p-4 rounded-lg">
                    <h4 class="font-bold text-purple-600 mb-3">Scan Your Clothes ğŸ“±</h4>
                    <input type="file" id="closetPhotos" accept="image/*" multiple class="w-full px-3 py-2 border border-purple-300 rounded-lg focus:outline-none focus:border-purple-500">
                    <p class="text-sm text-purple-600 mt-2">Upload multiple photos of your clothes</p>
                    <div id="closetPreview" class="mt-3 hidden grid grid-cols-3 gap-2"></div>
                </div>
                
                <div class="space-y-3">
                    <div>
                        <label class="block text-purple-700 font-semibold mb-2">What would you like to create?</label>
                        <select id="closetAction" class="w-full px-4 py-2 border border-purple-300 rounded-lg focus:outline-none focus:border-purple-500">
                            <option value="outfits">New Outfit Combinations</option>
                            <option value="missing">What's Missing from My Wardrobe</option>
                            <option value="organize">Organize by Category</option>
                            <option value="seasonal">Seasonal Outfit Ideas</option>
                            <option value="color-match">Color Coordination Guide</option>
                        </select>
                    </div>
                    
                    <button onclick="analyzeCloset()" class="w-full bg-purple-500 text-white py-3 rounded-full hover:bg-purple-600 transition-colors font-semibold">
                        Analyze My Closet ğŸ”
                    </button>
                </div>
                
                <div id="closetAnalysisResult" class="hidden mt-6 p-4 bg-purple-50 rounded-lg">
                    <h4 class="font-bold text-purple-600 mb-2">Your Closet Analysis ğŸ’œ</h4>
                    <div id="closetAnalysisContent"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Skin Analysis Modal -->
    <div id="skinAnalysisModal" class="modal">
        <div class="bg-white rounded-3xl p-6 max-w-lg w-full mx-4 max-h-[80vh] overflow-y-auto relative">
            <div class="loading-overlay" id="skinAnalysisModalLoading">
                <div class="text-center">
                    <div class="text-4xl mb-2 animate-bounce">ğŸ”</div>
                    <div class="text-green-600 font-semibold">Analyzing your skin condition...</div>
                </div>
            </div>
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-bold text-pink-600 dancing-script">Skin Analysis AI ğŸ”</h3>
                <button onclick="closeModal('skinAnalysisModal')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="space-y-4">
                <div class="bg-green-50 p-4 rounded-lg">
                    <h4 class="font-bold text-green-600 mb-3">Upload Clear Skin Photo ğŸ“¸</h4>
                    <input type="file" id="skinPhoto" accept="image/*" class="w-full px-3 py-2 border border-green-300 rounded-lg focus:outline-none focus:border-green-500">
                    <p class="text-sm text-green-600 mt-2">Take a clear, well-lit photo of your face</p>
                    <div id="skinPreview" class="mt-3 hidden">
                        <img id="skinImage" class="w-full max-w-xs mx-auto rounded-lg" alt="Your skin photo">
                    </div>
                </div>
                
                <div class="space-y-3">
                    <div>
                        <label class="block text-purple-700 font-semibold mb-2">Focus Area</label>
                        <select id="skinFocus" class="w-full px-4 py-2 border border-green-300 rounded-lg focus:outline-none focus:border-green-500">
                            <option value="complete">Complete Skin Analysis</option>
                            <option value="acne">Acne & Breakouts</option>
                            <option value="aging">Anti-Aging Assessment</option>
                            <option value="dark-spots">Dark Spots & Pigmentation</option>
                            <option value="texture">Skin Texture & Pores</option>
                            <option value="hydration">Hydration Levels</option>
                        </select>
                    </div>
                    
                    <button onclick="analyzeSkin()" class="w-full bg-green-500 text-white py-3 rounded-full hover:bg-green-600 transition-colors font-semibold">
                        Analyze My Skin ğŸ§´
                    </button>
                </div>
                
                <div id="skinAnalysisResult" class="hidden mt-6 p-4 bg-green-50 rounded-lg">
                    <h4 class="font-bold text-green-600 mb-2">Your Skin Analysis ğŸŒ¿</h4>
                    <div id="skinAnalysisContent"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Voice Assistant Modal -->
    <div id="voiceAssistantModal" class="modal">
        <div class="bg-white rounded-3xl p-6 max-w-md w-full mx-4 relative">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-bold text-pink-600 dancing-script">Voice Bestie ğŸ¤</h3>
                <button onclick="closeModal('voiceAssistantModal')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="text-center space-y-6">
                <div id="voiceAnimation" class="text-8xl animate-pulse">ğŸ¤</div>
                
                <div id="voiceStatus" class="text-lg font-semibold text-rose-600">
                    Tap to start talking to Nipa! ğŸ’•
                </div>
                
                <div id="voiceTranscript" class="hidden bg-rose-50 p-4 rounded-lg">
                    <h4 class="font-bold text-rose-600 mb-2">You said:</h4>
                    <p id="transcriptText" class="text-purple-700"></p>
                </div>
                
                <button id="voiceButton" onclick="toggleVoiceRecording()" class="w-full bg-rose-500 text-white py-4 rounded-full hover:bg-rose-600 transition-colors font-semibold text-lg">
                    ğŸ¤ Start Talking
                </button>
                
                <div id="voiceResponse" class="hidden bg-pink-50 p-4 rounded-lg text-left">
                    <h4 class="font-bold text-pink-600 mb-2">Nipa says:</h4>
                    <div id="voiceResponseContent"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Health, Fitness & Wellness Section -->
    <section class="py-16 px-4 bg-gradient-to-r from-green-50 to-blue-50">
        <div class="container mx-auto">
            <h3 class="text-5xl font-bold dancing-script text-center text-green-600 mb-6">
                ğŸ§˜ Health, Fitness & Wellness
            </h3>
            <p class="text-center text-blue-700 text-xl mb-12">Smart tracking, body positivity, and wellness guidance! ğŸ’ª</p>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-16">
                <!-- Smart Period Tracker -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-6 card-hover shadow-xl relative">
                    <div class="loading-overlay" id="smartPeriodLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2 animate-pulse">ğŸ“…</div>
                            <div class="text-pink-600 font-semibold">Tracking your cycle...</div>
                        </div>
                    </div>
                    <div class="text-center mb-4">
                        <span class="text-4xl">ğŸ“…</span>
                        <h4 class="text-lg font-bold text-pink-600 mt-2 dancing-script">Smart Period Tracker</h4>
                    </div>
                    <p class="text-sm text-purple-700 mb-4">Predicts moods, cravings, skincare changes & outfit tips!</p>
                    <button onclick="openSmartPeriodTracker()" class="w-full bg-pink-500 text-white py-2 rounded-full hover:bg-pink-600 transition-colors text-sm font-semibold">
                        Track My Cycle ğŸŒ¸
                    </button>
                </div>

                <!-- Body Confidence AI -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-6 card-hover shadow-xl relative">
                    <div class="loading-overlay" id="bodyConfidenceLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2 animate-bounce">ğŸ’ª</div>
                            <div class="text-rose-600 font-semibold">Building confidence...</div>
                        </div>
                    </div>
                    <div class="text-center mb-4">
                        <span class="text-4xl">ğŸ’ª</span>
                        <h4 class="text-lg font-bold text-pink-600 mt-2 dancing-script">Body Confidence AI</h4>
                    </div>
                    <p class="text-sm text-purple-700 mb-4">Daily affirmations + styling tips for body positivity!</p>
                    <button onclick="openBodyConfidence()" class="w-full bg-rose-500 text-white py-2 rounded-full hover:bg-rose-600 transition-colors text-sm font-semibold">
                        Boost Confidence ğŸ‘‘
                    </button>
                </div>

                <!-- Sleep Beautifier -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-6 card-hover shadow-xl relative">
                    <div class="loading-overlay" id="sleepBeautifierLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2 animate-pulse">ğŸ˜´</div>
                            <div class="text-indigo-600 font-semibold">Analyzing sleep...</div>
                        </div>
                    </div>
                    <div class="text-center mb-4">
                        <span class="text-4xl">ğŸ˜´</span>
                        <h4 class="text-lg font-bold text-pink-600 mt-2 dancing-script">Sleep Beautifier</h4>
                    </div>
                    <p class="text-sm text-purple-700 mb-4">Track sleep â†’ get skincare & relaxation tips!</p>
                    <button onclick="openSleepBeautifier()" class="w-full bg-indigo-500 text-white py-2 rounded-full hover:bg-indigo-600 transition-colors text-sm font-semibold">
                        Track Sleep ğŸŒ™
                    </button>
                </div>

                <!-- Virtual Yoga Buddy -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-6 card-hover shadow-xl relative">
                    <div class="loading-overlay" id="yogaBuddyLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2 animate-spin">ğŸ§˜â€â™€ï¸</div>
                            <div class="text-green-600 font-semibold">Starting yoga session...</div>
                        </div>
                    </div>
                    <div class="text-center mb-4">
                        <span class="text-4xl">ğŸ§˜â€â™€ï¸</span>
                        <h4 class="text-lg font-bold text-pink-600 mt-2 dancing-script">Virtual Yoga Buddy</h4>
                    </div>
                    <p class="text-sm text-purple-700 mb-4">Avatar guides yoga poses with posture correction!</p>
                    <button onclick="openYogaBuddy()" class="w-full bg-green-500 text-white py-2 rounded-full hover:bg-green-600 transition-colors text-sm font-semibold">
                        Start Yoga ğŸ•‰ï¸
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Extra Girly Features Section -->
    <section class="py-16 px-4 bg-gradient-to-r from-rose-50 to-pink-50">
        <div class="container mx-auto">
            <h3 class="text-5xl font-bold dancing-script text-center text-rose-600 mb-6">
                ğŸ’ Extra Girly Features
            </h3>
            <p class="text-center text-pink-700 text-xl mb-12">Horoscopes, love compatibility, digital vanity & memory books! âœ¨</p>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-16">
                <!-- Horoscope x Fashion -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-6 card-hover shadow-xl relative">
                    <div class="loading-overlay" id="horoscopeFashionLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2 animate-spin">ğŸ”®</div>
                            <div class="text-purple-600 font-semibold">Reading your stars...</div>
                        </div>
                    </div>
                    <div class="text-center mb-4">
                        <span class="text-4xl">ğŸ”®</span>
                        <h4 class="text-lg font-bold text-pink-600 mt-2 dancing-script">Horoscope Fashion</h4>
                    </div>
                    <p class="text-sm text-purple-700 mb-4">Outfit of the day based on your zodiac sign!</p>
                    <button onclick="openHoroscopeFashion()" class="w-full bg-purple-500 text-white py-2 rounded-full hover:bg-purple-600 transition-colors text-sm font-semibold">
                        Get Cosmic OOTD â­
                    </button>
                </div>

                <!-- Love Compatibility AI -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-6 card-hover shadow-xl relative">
                    <div class="loading-overlay" id="loveCompatibilityLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2 animate-pulse">ğŸ’•</div>
                            <div class="text-rose-600 font-semibold">Analyzing compatibility...</div>
                        </div>
                    </div>
                    <div class="text-center mb-4">
                        <span class="text-4xl">ğŸ’•</span>
                        <h4 class="text-lg font-bold text-pink-600 mt-2 dancing-script">Love Compatibility</h4>
                    </div>
                    <p class="text-sm text-purple-700 mb-4">Fun dating analysis based on personality & zodiac!</p>
                    <button onclick="openLoveCompatibility()" class="w-full bg-rose-500 text-white py-2 rounded-full hover:bg-rose-600 transition-colors text-sm font-semibold">
                        Check Compatibility ğŸ’˜
                    </button>
                </div>

                <!-- Digital Vanity -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-6 card-hover shadow-xl relative">
                    <div class="loading-overlay" id="digitalVanityLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2 animate-bounce">ğŸ’„</div>
                            <div class="text-pink-600 font-semibold">Setting up vanity...</div>
                        </div>
                    </div>
                    <div class="text-center mb-4">
                        <span class="text-4xl">ğŸ’„</span>
                        <h4 class="text-lg font-bold text-pink-600 mt-2 dancing-script">Digital Vanity</h4>
                    </div>
                    <p class="text-sm text-purple-700 mb-4">Store fav lipsticks, perfumes, looks â†’ track usage!</p>
                    <button onclick="openDigitalVanity()" class="w-full bg-pink-500 text-white py-2 rounded-full hover:bg-pink-600 transition-colors text-sm font-semibold">
                        Open Vanity ğŸ’
                    </button>
                </div>

                <!-- Memory Book -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-6 card-hover shadow-xl relative">
                    <div class="loading-overlay" id="memoryBookLoading">
                        <div class="text-center">
                            <div class="text-4xl mb-2 animate-pulse">ğŸ“–</div>
                            <div class="text-indigo-600 font-semibold">Creating memories...</div>
                        </div>
                    </div>
                    <div class="text-center mb-4">
                        <span class="text-4xl">ğŸ“–</span>
                        <h4 class="text-lg font-bold text-pink-600 mt-2 dancing-script">Memory Book</h4>
                    </div>
                    <p class="text-sm text-purple-700 mb-4">Save OOTDs, travel looks, journals â†’ girly timeline!</p>
                    <button onclick="openMemoryBook()" class="w-full bg-indigo-500 text-white py-2 rounded-full hover:bg-indigo-600 transition-colors text-sm font-semibold">
                        Create Memories ğŸ“¸
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-white/80 backdrop-blur-md py-12 px-4">
        <div class="container mx-auto text-center">
            <div class="flex items-center justify-center space-x-2 mb-6">
                <span class="text-4xl">ğŸŒº</span>
                <h1 class="text-3xl font-bold dancing-script text-pink-600">Nipa</h1>
            </div>
            <p class="text-purple-600 mb-6">Your girly lifestyle hub - where every girl shines! âœ¨</p>
            <div class="flex justify-center space-x-6 mb-6">
                <span class="text-2xl cursor-pointer hover:scale-110 transition-transform">ğŸ“±</span>
                <span class="text-2xl cursor-pointer hover:scale-110 transition-transform">ğŸ’Œ</span>
                <span class="text-2xl cursor-pointer hover:scale-110 transition-transform">ğŸŒŸ</span>
                <span class="text-2xl cursor-pointer hover:scale-110 transition-transform">ğŸ’–</span>
            </div>
            <div class="heart-beat">
                <span class="text-pink-500 text-xl">Made with ğŸ’• for all the amazing girls out there!</span>
            </div>
        </div>
    </footer>

    <script>
        // Updated JavaScript with proper loading indicators and emoji-focused AI
        const API_BASE_URL = window.location.origin;

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Hero Section -->
        <div class="text-center mb-12">
            <h2 class="text-5xl md:text-7xl font-bold text-white mb-6">
                Professional
                <span class="block text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-pink-400 to-purple-400">
                    AI Try-On
                </span>
            </h2>
            <p class="text-xl text-gray-200 max-w-3xl mx-auto mb-8">
                Experience the future of fashion with our DeepSeek V3 powered virtual try-on technology. 
                Upload your photo and see realistic clothing transformations in seconds.
            </p>
            <div class="flex justify-center space-x-6 text-sm text-gray-300">
                <div class="flex items-center">
                    <span class="w-2 h-2 bg-green-400 rounded-full mr-2"></span>
                    Real AI Processing
                </div>
                <div class="flex items-center">
                    <span class="w-2 h-2 bg-blue-400 rounded-full mr-2"></span>
                    High Quality Results
                </div>
                <div class="flex items-center">
                    <span class="w-2 h-2 bg-purple-400 rounded-full mr-2"></span>
                    Instant Generation
                </div>
            </div>
        </div>

        <!-- Upload Section -->
        <div class="grid lg:grid-cols-2 gap-8 mb-12">
            <!-- Person Photo Upload -->
            <div class="glass-effect rounded-3xl p-8">
                <h3 class="text-2xl font-semibold text-white mb-6 flex items-center">
                    <span class="mr-3 text-3xl">ğŸ‘¤</span>
                    Your Photo
                </h3>
                <div id="personUploadZone" class="upload-zone rounded-2xl p-8 text-center min-h-[300px] flex flex-col justify-center">
                    <input type="file" id="personInput" accept="image/*" class="hidden">
                    <div id="personUploadContent">
                        <div class="text-8xl mb-6 opacity-50">ğŸ“¸</div>
                        <h4 class="text-xl font-semibold text-white mb-2">Upload Your Photo</h4>
                        <p class="text-gray-300 mb-4">Drag & drop or click to select</p>
                        <p class="text-sm text-gray-400 mb-6">Supported: JPG, PNG, WEBP (Max 10MB)</p>
                        <button class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-3 rounded-xl font-medium hover:from-purple-700 hover:to-pink-700 transition-all transform hover:scale-105">
                            Choose Photo
                        </button>
                    </div>
                    <div id="personPreview" class="hidden">
                        <img id="personImage" class="max-w-full max-h-80 mx-auto rounded-xl shadow-2xl">
                        <div class="mt-4 flex justify-center space-x-4">
                            <button id="removePerson" class="text-red-400 hover:text-red-300 transition-colors px-4 py-2 rounded-lg border border-red-400 hover:border-red-300">
                                Remove Photo
                            </button>
                            <button id="cropPerson" class="text-blue-400 hover:text-blue-300 transition-colors px-4 py-2 rounded-lg border border-blue-400 hover:border-blue-300">
                                Crop & Adjust
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Clothing Upload -->
            <div class="glass-effect rounded-3xl p-8">
                <h3 class="text-2xl font-semibold text-white mb-6 flex items-center">
                    <span class="mr-3 text-3xl">ğŸ‘—</span>
                    Clothing Item
                </h3>
                <div id="clothUploadZone" class="upload-zone rounded-2xl p-8 text-center min-h-[300px] flex flex-col justify-center">
                    <input type="file" id="clothInput" accept="image/*" class="hidden">
                    <div id="clothUploadContent">
                        <div class="text-8xl mb-6 opacity-50">ğŸ‘•</div>
                        <h4 class="text-xl font-semibold text-white mb-2">Upload Clothing</h4>
                        <p class="text-gray-300 mb-4">Drag & drop or click to select</p>
                        <p class="text-sm text-gray-400 mb-6">Best results with clear, front-facing clothing images</p>
                        <button class="bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-3 rounded-xl font-medium hover:from-blue-700 hover:to-purple-700 transition-all transform hover:scale-105">
                            Choose Clothing
                        </button>
                    </div>
                    <div id="clothPreview" class="hidden">
                        <img id="clothImage" class="max-w-full max-h-80 mx-auto rounded-xl shadow-2xl">
                        <div class="mt-4 flex justify-center space-x-4">
                            <button id="removeCloth" class="text-red-400 hover:text-red-300 transition-colors px-4 py-2 rounded-lg border border-red-400 hover:border-red-300">
                                Remove Clothing
                            </button>
                            <button id="adjustCloth" class="text-green-400 hover:text-green-300 transition-colors px-4 py-2 rounded-lg border border-green-400 hover:border-green-300">
                                Adjust Fit
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- AI Processing Controls -->
        <div class="glass-effect rounded-3xl p-8 mb-8">
            <h3 class="text-2xl font-semibold text-white mb-6 flex items-center">
                <span class="mr-3 text-3xl">âš™ï¸</span>
                AI Processing Options
            </h3>
            <div class="grid md:grid-cols-3 gap-6">
                <div class="bg-gray-800 bg-opacity-50 rounded-xl p-4">
                    <h4 class="text-white font-medium mb-2">Quality Level</h4>
                    <select id="qualityLevel" class="w-full bg-gray-700 text-white rounded-lg px-3 py-2 border border-gray-600 focus:border-purple-500 focus:outline-none">
                        <option value="standard">Standard (Fast)</option>
                        <option value="high" selected>High Quality</option>
                        <option value="ultra">Ultra HD (Slower)</option>
                    </select>
                </div>
                <div class="bg-gray-800 bg-opacity-50 rounded-xl p-4">
                    <h4 class="text-white font-medium mb-2">Fit Adjustment</h4>
                    <select id="fitAdjustment" class="w-full bg-gray-700 text-white rounded-lg px-3 py-2 border border-gray-600 focus:border-purple-500 focus:outline-none">
                        <option value="auto" selected>Auto Fit</option>
                        <option value="loose">Loose Fit</option>
                        <option value="tight">Tight Fit</option>
                        <option value="custom">Custom Fit</option>
                    </select>
                </div>
                <div class="bg-gray-800 bg-opacity-50 rounded-xl p-4">
                    <h4 class="text-white font-medium mb-2">Style Enhancement</h4>
                    <select id="styleEnhancement" class="w-full bg-gray-700 text-white rounded-lg px-3 py-2 border border-gray-600 focus:border-purple-500 focus:outline-none">
                        <option value="none">None</option>
                        <option value="natural" selected>Natural</option>
                        <option value="enhanced">Enhanced</option>
                        <option value="artistic">Artistic</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Generate Button -->
        <div class="text-center mb-8">
            <button id="generateBtn" class="bg-gradient-to-r from-pink-500 via-purple-600 to-blue-600 text-white px-16 py-5 rounded-2xl text-2xl font-bold hover:from-pink-600 hover:via-purple-700 hover:to-blue-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none shadow-2xl">
                <span id="generateBtnText">ğŸš€ Generate AI Try-On</span>
            </button>
            <p class="text-gray-300 text-sm mt-4">Processing typically takes 10-30 seconds</p>
        </div>

        <!-- Processing Section -->
        <div id="processingSection" class="hidden glass-effect rounded-3xl p-12 text-center mb-8">
            <div class="flex flex-col items-center">
                <!-- Circular Progress -->
                <div class="relative w-32 h-32 mb-8">
                    <svg class="progress-ring w-32 h-32" viewBox="0 0 120 120">
                        <circle class="progress-ring-circle" stroke="#374151" stroke-width="8" fill="transparent" r="52" cx="60" cy="60"/>
                        <circle id="progressCircle" class="progress-ring-circle" stroke="url(#gradient)" stroke-width="8" fill="transparent" r="52" cx="60" cy="60" stroke-dasharray="327" stroke-dashoffset="327"/>
                        <defs>
                            <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color:#ec4899"/>
                                <stop offset="50%" style="stop-color:#8b5cf6"/>
                                <stop offset="100%" style="stop-color:#3b82f6"/>
                            </linearGradient>
                        </defs>
                    </svg>
                    <div class="absolute inset-0 flex items-center justify-center">
                        <span id="progressPercent" class="text-2xl font-bold text-white">0%</span>
                    </div>
                </div>

                <h3 class="text-3xl font-bold text-white mb-4">AI Processing in Progress</h3>
                <p id="processingStatus" class="text-xl text-gray-300 mb-6">Initializing DeepSeek V3...</p>

                <!-- Processing Steps -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4 w-full max-w-4xl">
                    <div id="step1" class="processing-step bg-gray-800 bg-opacity-50 rounded-xl p-4 text-center">
                        <div class="text-3xl mb-2">ğŸ“¤</div>
                        <p class="text-white font-medium">Upload</p>
                        <p class="text-xs text-gray-400">Sending images</p>
                    </div>
                    <div id="step2" class="processing-step bg-gray-800 bg-opacity-50 rounded-xl p-4 text-center">
                        <div class="text-3xl mb-2">ğŸ”</div>
                        <p class="text-white font-medium">Analysis</p>
                        <p class="text-xs text-gray-400">AI detection</p>
                    </div>
                    <div id="step3" class="processing-step bg-gray-800 bg-opacity-50 rounded-xl p-4 text-center">
                        <div class="text-3xl mb-2">ğŸ¨</div>
                        <p class="text-white font-medium">Generation</p>
                        <p class="text-xs text-gray-400">Creating result</p>
                    </div>
                    <div id="step4" class="processing-step bg-gray-800 bg-opacity-50 rounded-xl p-4 text-center">
                        <div class="text-3xl mb-2">âœ¨</div>
                        <p class="text-white font-medium">Enhancement</p>
                        <p class="text-xs text-gray-400">Final touches</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <div id="resultsSection" class="hidden result-fade-in">
            <div class="glass-effect rounded-3xl p-8">
                <h3 class="text-4xl font-bold text-white mb-8 text-center flex items-center justify-center">
                    <span class="mr-4">ğŸ‰</span>
                    Your AI Try-On Result
                    <span class="ml-4">ğŸ‰</span>
                </h3>

                <!-- Result Comparison -->
                <div class="grid lg:grid-cols-3 gap-8 mb-8">
                    <!-- Original Photo -->
                    <div class="text-center">
                        <h4 class="text-xl font-semibold text-white mb-4 flex items-center justify-center">
                            <span class="mr-2">ğŸ“¸</span>
                            Original Photo
                        </h4>
                        <div class="bg-gray-800 bg-opacity-50 rounded-2xl p-4">
                            <img id="originalResult" class="w-full rounded-xl shadow-lg">
                        </div>
                    </div>

                    <!-- Clothing Item -->
                    <div class="text-center">
                        <h4 class="text-xl font-semibold text-white mb-4 flex items-center justify-center">
                            <span class="mr-2">ğŸ‘—</span>
                            Clothing Item
                        </h4>
                        <div class="bg-gray-800 bg-opacity-50 rounded-2xl p-4">
                            <img id="clothingResult" class="w-full rounded-xl shadow-lg">
                        </div>
                    </div>

                    <!-- AI Generated Result -->
                    <div class="text-center">
                        <h4 class="text-xl font-semibold text-white mb-4 flex items-center justify-center">
                            <span class="mr-2">ğŸ¤–</span>
                            AI Generated
                        </h4>
                        <div class="bg-gray-800 bg-opacity-50 rounded-2xl p-4 relative">
                            <img id="finalResult" class="w-full rounded-xl shadow-lg">
                            <div class="absolute top-6 right-6">
                                <span class="bg-gradient-to-r from-green-500 to-blue-500 text-white px-3 py-1 rounded-full text-xs font-bold">
                                    âœ¨ DeepSeek V3
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Result Actions -->
                <div class="flex flex-wrap justify-center gap-4 mb-8">
                    <button id="downloadBtn" class="bg-gradient-to-r from-green-600 to-emerald-600 text-white px-8 py-3 rounded-xl font-semibold hover:from-green-700 hover:to-emerald-700 transition-all transform hover:scale-105 flex items-center">
                        <span class="mr-2">ğŸ“¥</span>
                        Download HD Result
                    </button>
                    <button id="shareBtn" class="bg-gradient-to-r from-blue-600 to-cyan-600 text-white px-8 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-cyan-700 transition-all transform hover:scale-105 flex items-center">
                        <span class="mr-2">ğŸ“¤</span>
                        Share Result
                    </button>
                    <button id="regenerateBtn" class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-3 rounded-xl font-semibold hover:from-purple-700 hover:to-pink-700 transition-all transform hover:scale-105 flex items-center">
                        <span class="mr-2">ğŸ”„</span>
                        Regenerate
                    </button>
                    <button id="newTryOnBtn" class="bg-gradient-to-r from-orange-600 to-red-600 text-white px-8 py-3 rounded-xl font-semibold hover:from-orange-700 hover:to-red-700 transition-all transform hover:scale-105 flex items-center">
                        <span class="mr-2">âœ¨</span>
                        New Try-On
                    </button>
                </div>

                <!-- AI Metadata -->
                <div class="bg-gray-800 bg-opacity-30 rounded-2xl p-6">
                    <h4 class="text-lg font-semibold text-white mb-4">Generation Details</h4>
                    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm">
                        <div>
                            <p class="text-gray-400">Model</p>
                            <p class="text-white font-medium">DeepSeek V3</p>
                        </div>
                        <div>
                            <p class="text-gray-400">Processing Time</p>
                            <p class="text-white font-medium" id="processingTime">--</p>
                        </div>
                        <div>
                            <p class="text-gray-400">Quality</p>
                            <p class="text-white font-medium" id="resultQuality">High</p>
                        </div>
                        <div>
                            <p class="text-gray-400">Resolution</p>
                            <p class="text-white font-medium" id="resultResolution">--</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Application State
        let appState = {
            personImage: null,
            clothingImage: null,
            personFile: null,
            clothingFile: null,
            isProcessing: false,
            startTime: null
        };

        // API Configuration
        const API_BASE = window.location.origin; // Uses your Flask server

        // Initialize Application
        function initializeApp() {
            setupEventListeners();
            checkAPIStatus();
            updateGenerateButton();
        }

        // Check API Status
        async function checkAPIStatus() {
            try {
                const response = await fetch(`${API_BASE}/api/status`);
                if (response.ok) {
                    updateAPIStatus('connected', 'DeepSeek V3 Ready');
                } else {
                    updateAPIStatus('error', 'API Error');
                }
            } catch (error) {
                updateAPIStatus('connecting', 'Connecting...');
                // Retry after 3 seconds
                setTimeout(checkAPIStatus, 3000);
            }
        }

        // Update API Status Display
        function updateAPIStatus(status, message) {
            const dot = document.getElementById('statusDot');
            const text = document.getElementById('statusText');

            const colors = {
                connecting: 'bg-yellow-400',
                connected: 'bg-green-400',
                error: 'bg-red-400'
            };

            dot.className = `inline-block w-2 h-2 ${colors[status]} rounded-full mr-2`;
            text.textContent = message;
        }

        // Setup Event Listeners
        function setupEventListeners() {
            // Person photo upload
            setupFileUpload('person', 'personUploadZone', 'personInput', handlePersonUpload);
            document.getElementById('removePerson').addEventListener('click', removePerson);

            // Clothing upload
            setupFileUpload('clothing', 'clothUploadZone', 'clothInput', handleClothingUpload);
            document.getElementById('removeCloth').addEventListener('click', removeClothing);

            // Generate button
            document.getElementById('generateBtn').addEventListener('click', generateTryOn);

            // Result actions
            document.getElementById('downloadBtn').addEventListener('click', downloadResult);
            document.getElementById('shareBtn').addEventListener('click', shareResult);
            document.getElementById('regenerateBtn').addEventListener('click', regenerateResult);
            document.getElementById('newTryOnBtn').addEventListener('click', startNewTryOn);
        }

        // Setup file upload for a specific type
        function setupFileUpload(type, zoneId, inputId, handler) {
            const zone = document.getElementById(zoneId);
            const input = document.getElementById(inputId);

            zone.addEventListener('click', () => input.click());
            zone.addEventListener('dragover', handleDragOver);
            zone.addEventListener('drop', (e) => handleDrop(e, handler));
            input.addEventListener('change', (e) => {
                if (e.target.files[0]) handler(e.target.files[0]);
            });
        }

        // Handle drag over
        function handleDragOver(e) {
            e.preventDefault();
            e.currentTarget.classList.add('dragover');
        }

        // Handle drop
        function handleDrop(e, handler) {
            e.preventDefault();
            e.currentTarget.classList.remove('dragover');

            const files = e.dataTransfer.files;
            if (files.length > 0) {
                handler(files[0]);
            }
        }

        // Handle person photo upload
        function handlePersonUpload(file) {
            if (!validateImageFile(file)) return;

            appState.personFile = file;
            const reader = new FileReader();
            reader.onload = (e) => {
                appState.personImage = e.target.result;
                displayPersonImage(e.target.result);
                updateGenerateButton();
            };
            reader.readAsDataURL(file);
        }

        // Handle clothing upload
        function handleClothingUpload(file) {
            if (!validateImageFile(file)) return;

            appState.clothingFile = file;
            const reader = new FileReader();
            reader.onload = (e) => {
                appState.clothingImage = e.target.result;
                displayClothingImage(e.target.result);
                updateGenerateButton();
            };
            reader.readAsDataURL(file);
        }

        // Validate image file
        function validateImageFile(file) {
            const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp'];
            const maxSize = 10 * 1024 * 1024; // 10MB

            if (!validTypes.includes(file.type)) {
                alert('Please upload a valid image file (JPG, PNG, WEBP)');
                return false;
            }

            if (file.size > maxSize) {
                alert('File size must be less than 10MB');
                return false;
            }

            return true;
        }

        // Display person image
        function displayPersonImage(imageSrc) {
            document.getElementById('personUploadContent').classList.add('hidden');
            document.getElementById('personPreview').classList.remove('hidden');
            document.getElementById('personImage').src = imageSrc;
        }

        // Display clothing image
        function displayClothingImage(imageSrc) {
            document.getElementById('clothUploadContent').classList.add('hidden');
            document.getElementById('clothPreview').classList.remove('hidden');
            document.getElementById('clothImage').src = imageSrc;
        }

        // Remove person photo
        function removePerson() {
            appState.personImage = null;
            appState.personFile = null;
            document.getElementById('personUploadContent').classList.remove('hidden');
            document.getElementById('personPreview').classList.add('hidden');
            document.getElementById('personInput').value = '';
            updateGenerateButton();
        }

        // Remove clothing
        function removeClothing() {
            appState.clothingImage = null;
            appState.clothingFile = null;
            document.getElementById('clothUploadContent').classList.remove('hidden');
            document.getElementById('clothPreview').classList.add('hidden');
            document.getElementById('clothInput').value = '';
            updateGenerateButton();
        }

        // Update generate button state
        function updateGenerateButton() {
            const btn = document.getElementById('generateBtn');
            const btnText = document.getElementById('generateBtnText');
            const canGenerate = appState.personImage && appState.clothingImage && !appState.isProcessing;

            btn.disabled = !canGenerate;

            if (appState.isProcessing) {
                btnText.textContent = 'ğŸ¤– Processing...';
            } else if (canGenerate) {
                btnText.textContent = 'ğŸš€ Generate AI Try-On';
            } else if (!appState.personImage) {
                btnText.textContent = 'ğŸ“¸ Upload Your Photo First';
            } else {
                btnText.textContent = 'ğŸ‘— Upload Clothing First';
            }
        }

        // Generate try-on result
        async function generateTryOn() {
            if (!appState.personImage || !appState.clothingImage || appState.isProcessing) return;

            appState.isProcessing = true;
            appState.startTime = Date.now();
            updateGenerateButton();

            // Show processing section
            document.getElementById('resultsSection').classList.add('hidden');
            document.getElementById('processingSection').classList.remove('hidden');

            try {
                // Prepare form data
                const formData = new FormData();
                formData.append('person', appState.personFile);
                formData.append('clothing', appState.clothingFile);
                formData.append('quality', document.getElementById('qualityLevel').value);
                formData.append('fit', document.getElementById('fitAdjustment').value);
                formData.append('style', document.getElementById('styleEnhancement').value);

                // Start processing animation
                startProcessingAnimation();

                // Make API call to your Flask backend
                const response = await fetch(`${API_BASE}/api/try-on`, {
                    method: 'POST',
                    body: formData
                });

                if (!response.ok) {
                    throw new Error(`API Error: ${response.status}`);
                }

                const result = await response.json();

                if (result.success) {
                    // Display results
                    displayResults(result);
                } else {
                    throw new Error(result.error || 'Processing failed');
                }

            } catch (error) {
                console.error('Try-on generation failed:', error);
                alert(`Generation failed: ${error.message}`);
                document.getElementById('processingSection').classList.add('hidden');
            } finally {
                appState.isProcessing = false;
                updateGenerateButton();
            }
        }

        // Start processing animation
        function startProcessingAnimation() {
            const steps = [
                { step: 1, progress: 25, status: "Uploading images to DeepSeek V3..." },
                { step: 2, progress: 50, status: "Analyzing body pose and clothing..." },
                { step: 3, progress: 75, status: "Generating AI try-on result..." },
                { step: 4, progress: 100, status: "Applying final enhancements..." }
            ];

            let currentStep = 0;
            const interval = setInterval(() => {
                if (currentStep < steps.length) {
                    const step = steps[currentStep];
                    updateProcessingProgress(step.progress, step.status);
                    highlightProcessingStep(step.step);
                    currentStep++;
                } else {
                    clearInterval(interval);
                }
            }, 2000);
        }

        // Update processing progress
        function updateProcessingProgress(progress, status) {
            const circle = document.getElementById('progressCircle');
            const percent = document.getElementById('progressPercent');
            const statusText = document.getElementById('processingStatus');

            const circumference = 2 * Math.PI * 52;
            const offset = circumference - (progress / 100) * circumference;

            circle.style.strokeDashoffset = offset;
            percent.textContent = `${progress}%`;
            statusText.textContent = status;
        }

        // Highlight processing step
        function highlightProcessingStep(stepNumber) {
            // Reset all steps
            for (let i = 1; i <= 4; i++) {
                const step = document.getElementById(`step${i}`);
                step.classList.remove('bg-purple-600', 'bg-opacity-80');
                step.classList.add('bg-gray-800', 'bg-opacity-50');
            }

            // Highlight current step
            const currentStep = document.getElementById(`step${stepNumber}`);
            currentStep.classList.remove('bg-gray-800', 'bg-opacity-50');
            currentStep.classList.add('bg-purple-600', 'bg-opacity-80');
        }

        // Display results
        function displayResults(result) {
            document.getElementById('processingSection').classList.add('hidden');
            document.getElementById('resultsSection').classList.remove('hidden');

            // Display images
            document.getElementById('originalResult').src = appState.personImage;
            document.getElementById('clothingResult').src = appState.clothingImage;
            document.getElementById('finalResult').src = result.result_url;

            // Update metadata
            const processingTime = ((Date.now() - appState.startTime) / 1000).toFixed(1);
            document.getElementById('processingTime').textContent = `${processingTime}s`;
            document.getElementById('resultQuality').textContent = document.getElementById('qualityLevel').value;
            document.getElementById('resultResolution').textContent = result.resolution || 'HD';
        }

        // Download result
        function downloadResult() {
            const resultImg = document.getElementById('finalResult');
            const link = document.createElement('a');
            link.download = `virtualfit-result-${Date.now()}.png`;
            link.href = resultImg.src;
            link.click();
        }

        // Share result
        async function shareResult() {
            if (navigator.share) {
                try {
                    const resultImg = document.getElementById('finalResult');
                    const response = await fetch(resultImg.src);
                    const blob = await response.blob();
                    const file = new File([blob], 'virtualfit-result.png', { type: 'image/png' });

                    await navigator.share({
                        title: 'My VirtualFit AI Try-On Result',
                        text: 'Check out my virtual try-on result created with DeepSeek V3!',
                        files: [file]
                    });
                } catch (error) {
                    console.error('Sharing failed:', error);
                    fallbackShare();
                }
            } else {
                fallbackShare();
            }
        }

        // Fallback share method
        function fallbackShare() {
            navigator.clipboard.writeText(window.location.href);
            alert('Link copied to clipboard!');
        }

        // Regenerate result
        function regenerateResult() {
            generateTryOn();
        }

        // Start new try-on
        function startNewTryOn() {
            document.getElementById('resultsSection').classList.add('hidden');
            removePerson();
            removeClothing();
        }

        // Initialize app when page loads
        document.addEventListener('DOMContentLoaded', initializeApp);

        // Modal functions
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        function openAIChat() {
            openModal('aiChatModal');
        }

        function openFashionTool() {
            openModal('fashionModal');
        }

        function openBeautyTool() {
            openModal('beautyModal');
        }

        function openWellnessTool() {
            openModal('wellnessModal');
        }

        function openLifestyleTool() {
            openModal('lifestyleModal');
        }

        function openShoppingTool() {
            openModal('shoppingModal');
        }

        function openCommunityTool() {
            openModal('communityModal');
        }

        // Show/Hide loading indicators
        function showLoading(loadingId) {
            document.getElementById(loadingId).classList.add('active');
        }

        function hideLoading(loadingId) {
            document.getElementById(loadingId).classList.remove('active');
        }

        // Real AI Chat functionality using OpenRouter API
        async function callAI(prompt, systemPrompt = "You are Nipa, a helpful AI assistant for girls. You're friendly, supportive, and knowledgeable about fashion, beauty, wellness, and lifestyle. IMPORTANT: Always use emojis instead of asterisks (*). Never use asterisks for emphasis - use emojis like ğŸ’•âœ¨ğŸŒŸğŸ’– instead. Respond in a girly, encouraging tone with lots of emojis.") {
            try {
                const response = await fetch(`${API_BASE_URL}/api/chat`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        message: prompt,
                        system_prompt: systemPrompt
                    })
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const data = await response.json();
                
                if (data.error) {
                    throw new Error(data.error);
                }

                return data.response;
            } catch (error) {
                console.error('AI Error:', error);
                return "Sorry babe! I'm having a little technical moment right now. Please try again in a second! ğŸ’•âœ¨";
            }
        }

        async function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;

            // Add user message
            addChatMessage(message, 'user');
            input.value = '';

            // Show typing indicator
            document.getElementById('typingIndicator').classList.add('active');

            // Get AI response with emoji-focused prompt
            const enhancedPrompt = `${message} (Please respond with emojis instead of asterisks for emphasis)`;
            const response = await callAI(enhancedPrompt);
            
            // Hide typing indicator and add AI response
            document.getElementById('typingIndicator').classList.remove('active');
            addChatMessage(response, 'ai');
        }

        function addChatMessage(message, sender) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${sender}-message`;
            messageDiv.innerHTML = `<p>${message}</p>`;
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // Fashion Tool with loading
        async function generateOutfit() {
            const occasion = document.getElementById('fashionOccasion').value;
            const weather = document.getElementById('fashionWeather').value;
            const style = document.getElementById('fashionStyle').value;

            if (!occasion || !weather || !style) {
                alert('Please fill in all fields! ğŸ’•');
                return;
            }

            showLoading('fashionModalLoading');

            try {
                const response = await fetch(`${API_BASE_URL}/api/fashion/outfit`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        occasion: occasion,
                        weather: weather,
                        style: style
                    })
                });

                const data = await response.json();
                
                if (response.ok) {
                    // Replace asterisks with emojis
                    const cleanedOutfit = data.outfit.replace(/\*/g, 'âœ¨').replace(/\n/g, '<br>');
                    document.getElementById('outfitContent').innerHTML = cleanedOutfit;
                    document.getElementById('outfitResult').classList.remove('hidden');
                } else {
                    alert('Error: ' + data.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry! Something went wrong. Please try again! ğŸ’•');
            } finally {
                hideLoading('fashionModalLoading');
            }
        }

        // Beauty Tool with loading
        async function generateSkincareRoutine() {
            const skinType = document.getElementById('skinType').value;
            const concerns = document.getElementById('skinConcerns').value;
            const budget = document.getElementById('beautyBudget').value;

            if (!skinType || !concerns || !budget) {
                alert('Please fill in all fields! ğŸ’•');
                return;
            }

            showLoading('beautyModalLoading');

            try {
                const response = await fetch(`${API_BASE_URL}/api/beauty/skincare`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        skin_type: skinType,
                        concerns: concerns,
                        budget: budget
                    })
                });

                const data = await response.json();
                
                if (response.ok) {
                    const cleanedRoutine = data.routine.replace(/\*/g, 'âœ¨').replace(/\n/g, '<br>');
                    document.getElementById('skincareContent').innerHTML = cleanedRoutine;
                    document.getElementById('skincareResult').classList.remove('hidden');
                } else {
                    alert('Error: ' + data.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry! Something went wrong. Please try again! ğŸ’•');
            } finally {
                hideLoading('beautyModalLoading');
            }
        }

        // Wellness Tools with loading
        async function calculateCycle() {
            const lastPeriod = document.getElementById('lastPeriod').value;
            const cycleLength = document.getElementById('cycleLength').value;

            if (!lastPeriod || !cycleLength) {
                alert('Please fill in all fields! ğŸ’•');
                return;
            }

            showLoading('wellnessModalLoading');

            try {
                const response = await fetch(`${API_BASE_URL}/api/wellness/cycle`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        last_period: lastPeriod,
                        cycle_length: cycleLength
                    })
                });

                const data = await response.json();
                
                if (response.ok) {
                    const result = `
                        <h5 class="font-bold text-pink-600 mb-2">Your Cycle Predictions ğŸŒ¸</h5>
                        <p><strong>Next Period:</strong> ${new Date(data.next_period).toDateString()}</p>
                        <p><strong>Ovulation:</strong> ${new Date(data.ovulation).toDateString()}</p>
                        <p><strong>Fertile Window:</strong> ${new Date(data.fertile_start).toDateString()} - ${new Date(data.fertile_end).toDateString()}</p>
                        <p class="text-sm text-purple-600 mt-2">ğŸ’¡ Remember to track your symptoms and adjust as needed!</p>
                    `;
                    document.getElementById('cycleResult').innerHTML = result;
                    document.getElementById('cycleResult').classList.remove('hidden');
                } else {
                    alert('Error: ' + data.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry! Something went wrong. Please try again! ğŸ’•');
            } finally {
                hideLoading('wellnessModalLoading');
            }
        }

        async function generateWorkoutPlan() {
            const goal = document.getElementById('fitnessGoal').value;
            const time = document.getElementById('workoutTime').value;

            if (!goal || !time) {
                alert('Please fill in all fields! ğŸ’•');
                return;
            }

            showLoading('wellnessModalLoading');

            try {
                const response = await fetch(`${API_BASE_URL}/api/wellness/workout`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        goal: goal,
                        time: time
                    })
                });

                const data = await response.json();
                
                if (response.ok) {
                    const cleanedWorkout = data.workout.replace(/\*/g, 'âœ¨').replace(/\n/g, '<br>');
                    document.getElementById('workoutResult').innerHTML = cleanedWorkout;
                    document.getElementById('workoutResult').classList.remove('hidden');
                } else {
                    alert('Error: ' + data.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry! Something went wrong. Please try again! ğŸ’•');
            } finally {
                hideLoading('wellnessModalLoading');
            }
        }

        // Lifestyle Tools with loading
        let selectedMood = '';

        async function selectMood(emoji, mood) {
            selectedMood = mood;
            
            // Reset all mood buttons
            document.querySelectorAll('.mood-btn').forEach(btn => {
                btn.classList.remove('bg-rose-200', 'border-rose-500');
            });
            
            // Highlight selected mood
            event.target.classList.add('bg-rose-200', 'border-rose-500');
            
            showLoading('lifestyleModalLoading');
            
            try {
                const response = await fetch(`${API_BASE_URL}/api/lifestyle/mood`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        mood: mood,
                        emoji: emoji
                    })
                });

                const data = await response.json();
                
                if (response.ok) {
                    const cleanedResponse = data.response.replace(/\*/g, 'âœ¨');
                    document.getElementById('moodResult').innerHTML = `<h5 class="font-bold text-rose-600 mb-2">Mood Support ${emoji}</h5><p>${cleanedResponse}</p>`;
                    document.getElementById('moodResult').classList.remove('hidden');
                } else {
                    alert('Error: ' + data.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry! Something went wrong. Please try again! ğŸ’•');
            } finally {
                hideLoading('lifestyleModalLoading');
            }
        }

        async function generateAffirmation() {
            showLoading('lifestyleModalLoading');
            
            try {
                const response = await fetch(`${API_BASE_URL}/api/lifestyle/affirmation`);
                const data = await response.json();
                
                if (response.ok) {
                    const cleanedAffirmation = data.affirmation.replace(/\*/g, 'âœ¨');
                    document.getElementById('affirmationResult').innerHTML = `<div class="text-lg font-semibold text-purple-600">${cleanedAffirmation}</div>`;
                    document.getElementById('affirmationResult').classList.remove('hidden');
                } else {
                    alert('Error: ' + data.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry! Something went wrong. Please try again! ğŸ’•');
            } finally {
                hideLoading('lifestyleModalLoading');
            }
        }

        async function generateSelfCare() {
            const time = document.getElementById('selfCareTime').value;

            if (!time) {
                alert('Please select available time! ğŸ’•');
                return;
            }

            showLoading('lifestyleModalLoading');

            try {
                const response = await fetch(`${API_BASE_URL}/api/lifestyle/selfcare`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        time: time
                    })
                });

                const data = await response.json();
                
                if (response.ok) {
                    const cleanedRoutine = data.routine.replace(/\*/g, 'âœ¨').replace(/\n/g, '<br>');
                    document.getElementById('selfCareResult').innerHTML = cleanedRoutine;
                    document.getElementById('selfCareResult').classList.remove('hidden');
                } else {
                    alert('Error: ' + data.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry! Something went wrong. Please try again! ğŸ’•');
            } finally {
                hideLoading('lifestyleModalLoading');
            }
        }

        // Shopping Tool with loading
        async function findProducts() {
            const category = document.getElementById('shoppingCategory').value;
            const budget = document.getElementById('shoppingBudget').value;
            const specific = document.getElementById('specificItem').value;

            if (!category || !budget) {
                alert('Please fill in the required fields! ğŸ’•');
                return;
            }

            showLoading('shoppingModalLoading');

            try {
                const response = await fetch(`${API_BASE_URL}/api/shopping/products`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        category: category,
                        budget: budget,
                        specific: specific
                    })
                });

                const data = await response.json();
                
                if (response.ok) {
                    const cleanedProducts = data.products.replace(/\*/g, 'âœ¨').replace(/\n/g, '<br>');
                    document.getElementById('shoppingContent').innerHTML = cleanedProducts;
                    document.getElementById('shoppingResult').classList.remove('hidden');
                } else {
                    alert('Error: ' + data.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry! Something went wrong. Please try again! ğŸ’•');
            } finally {
                hideLoading('shoppingModalLoading');
            }
        }

        // Community Tools with loading
        async function submitAnonymousQuestion() {
            const question = document.getElementById('anonymousQuestion').value.trim();

            if (!question) {
                alert('Please enter your question! ğŸ’•');
                return;
            }

            showLoading('communityModalLoading');

            try {
                const response = await fetch(`${API_BASE_URL}/api/community/question`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        question: question
                    })
                });

                const data = await response.json();
                
                if (response.ok) {
                    const cleanedResponse = data.response.replace(/\*/g, 'âœ¨');
                    document.getElementById('communityContent').innerHTML = `<h5 class="font-bold text-green-600 mb-2">Community Response ğŸ’•</h5><p>${cleanedResponse}</p>`;
                    document.getElementById('communityResponse').classList.remove('hidden');
                    document.getElementById('anonymousQuestion').value = '';
                } else {
                    alert('Error: ' + data.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry! Something went wrong. Please try again! ğŸ’•');
            } finally {
                hideLoading('communityModalLoading');
            }
        }

        async function generateGirlTalkTopic() {
            showLoading('communityModalLoading');
            
            try {
                const response = await fetch(`${API_BASE_URL}/api/community/girl-talk`);
                const data = await response.json();
                
                if (response.ok) {
                    const cleanedTopic = data.topic.replace(/\*/g, 'âœ¨');
                    document.getElementById('girlTalkResult').innerHTML = `<h5 class="font-bold text-purple-600 mb-2">Today's Girl Talk Topic ğŸ’¬</h5><p>${cleanedTopic}</p>`;
                    document.getElementById('girlTalkResult').classList.remove('hidden');
                } else {
                    alert('Error: ' + data.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry! Something went wrong. Please try again! ğŸ’•');
            } finally {
                hideLoading('communityModalLoading');
            }
        }

        async function generateStyleChallenge() {
            showLoading('communityModalLoading');
            
            try {
                const response = await fetch(`${API_BASE_URL}/api/community/style-challenge`);
                const data = await response.json();
                
                if (response.ok) {
                    const cleanedChallenge = data.challenge.replace(/\*/g, 'âœ¨');
                    document.getElementById('styleChallengeResult').innerHTML = `<h5 class="font-bold text-rose-600 mb-2">This Week's Style Challenge ğŸ†</h5><p>${cleanedChallenge}</p>`;
                    document.getElementById('styleChallengeResult').classList.remove('hidden');
                } else {
                    alert('Error: ' + data.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry! Something went wrong. Please try again! ğŸ’•');
            } finally {
                hideLoading('communityModalLoading');
            }
        }

        // Enter key support for chat
        document.getElementById('chatInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Close modals when clicking outside
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.classList.remove('active');
                }
            });
        });

        // Add some interactive sparkles
        function createSparkle() {
            const sparkle = document.createElement('div');
            sparkle.innerHTML = 'âœ¨';
            sparkle.className = 'fixed text-pink-400 text-xl pointer-events-none z-10';
            sparkle.style.left = Math.random() * window.innerWidth + 'px';
            sparkle.style.top = Math.random() * window.innerHeight + 'px';
            sparkle.style.animation = 'sparkle 2s ease-in-out forwards';
            
            document.body.appendChild(sparkle);
            
            setTimeout(() => {
                sparkle.remove();
            }, 2000);
        }

        // Create sparkles periodically
        setInterval(createSparkle, 3000);

        // Smooth scrolling for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add click effects to buttons
        document.querySelectorAll('button').forEach(button => {
            button.addEventListener('click', function(e) {
                // Create a heart effect
                const heart = document.createElement('div');
                heart.innerHTML = 'ğŸ’–';
                heart.className = 'fixed text-2xl pointer-events-none z-50';
                heart.style.left = e.clientX + 'px';
                heart.style.top = e.clientY + 'px';
                heart.style.animation = 'heartbeat 1s ease-out forwards';
                
                document.body.appendChild(heart);
                
                setTimeout(() => {
                    heart.remove();
                }, 1000);
            });
        });

        // Mobile menu toggle
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            if (mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.remove('hidden');
            } else {
                mobileMenu.classList.add('hidden');
            }
        }

        // New AI Features Functions
        
        // AI Beauty Stylist
        function openAIBeautyStyler() {
            openModal('aiBeautyModal');
        }

        // Handle beauty photo upload
        document.addEventListener('DOMContentLoaded', function() {
            const beautyPhotoInput = document.getElementById('beautyPhoto');
            if (beautyPhotoInput) {
                beautyPhotoInput.addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            document.getElementById('beautyImage').src = e.target.result;
                            document.getElementById('beautyPreview').classList.remove('hidden');
                        };
                        reader.readAsDataURL(file);
                    }
                });
            }
        });

        async function analyzeBeauty() {
            const photoInput = document.getElementById('beautyPhoto');
            const analysisType = document.getElementById('analysisType').value;

            if (!photoInput.files[0]) {
                alert('Please upload a photo first! ğŸ“¸ğŸ’•');
                return;
            }

            showLoading('aiBeautyModalLoading');

            try {
                // Convert image to base64 for AI analysis
                const file = photoInput.files[0];
                const base64 = await fileToBase64(file);
                
                const prompt = `Analyze this selfie for ${analysisType} analysis. Provide detailed beauty recommendations including hair colors, makeup looks, and fashion styles that would complement this person's features. Focus on enhancing natural beauty with specific product suggestions and styling tips. Use lots of emojis and be encouraging!`;
                
                const response = await callAI(prompt);
                
                const cleanedResponse = response.replace(/\*/g, 'âœ¨').replace(/\n/g, '<br>');
                document.getElementById('beautyAnalysisContent').innerHTML = cleanedResponse;
                document.getElementById('beautyAnalysisResult').classList.remove('hidden');
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry babe! Something went wrong with the analysis. Please try again! ğŸ’•');
            } finally {
                hideLoading('aiBeautyModalLoading');
            }
        }

        // AI Smart Closet
        function openAICloset() {
            openModal('aiClosetModal');
        }

        // Handle closet photos upload
        document.addEventListener('DOMContentLoaded', function() {
            const closetPhotosInput = document.getElementById('closetPhotos');
            if (closetPhotosInput) {
                closetPhotosInput.addEventListener('change', function(e) {
                    const files = Array.from(e.target.files);
                    const preview = document.getElementById('closetPreview');
                    preview.innerHTML = '';
                    
                    files.forEach(file => {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            const img = document.createElement('img');
                            img.src = e.target.result;
                            img.className = 'w-full h-20 object-cover rounded-lg';
                            preview.appendChild(img);
                        };
                        reader.readAsDataURL(file);
                    });
                    
                    if (files.length > 0) {
                        preview.classList.remove('hidden');
                    }
                });
            }
        });

        async function analyzeCloset() {
            const photosInput = document.getElementById('closetPhotos');
            const action = document.getElementById('closetAction').value;

            if (!photosInput.files.length) {
                alert('Please upload photos of your clothes first! ğŸ‘—ğŸ’•');
                return;
            }

            showLoading('aiClosetModalLoading');

            try {
                const prompt = `Based on the uploaded clothing photos, help with ${action}. Analyze the clothing items and provide detailed suggestions for creating stylish outfits, identifying missing pieces, or organizing the wardrobe. Include specific styling tips, color combinations, and seasonal recommendations. Use lots of emojis and be encouraging about fashion choices!`;
                
                const response = await callAI(prompt);
                
                const cleanedResponse = response.replace(/\*/g, 'âœ¨').replace(/\n/g, '<br>');
                document.getElementById('closetAnalysisContent').innerHTML = cleanedResponse;
                document.getElementById('closetAnalysisResult').classList.remove('hidden');
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry babe! Something went wrong with the closet analysis. Please try again! ğŸ’•');
            } finally {
                hideLoading('aiClosetModalLoading');
            }
        }

        // Skin Analysis AI
        function openSkinAnalysis() {
            openModal('skinAnalysisModal');
        }

        // Handle skin photo upload
        document.addEventListener('DOMContentLoaded', function() {
            const skinPhotoInput = document.getElementById('skinPhoto');
            if (skinPhotoInput) {
                skinPhotoInput.addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            document.getElementById('skinImage').src = e.target.result;
                            document.getElementById('skinPreview').classList.remove('hidden');
                        };
                        reader.readAsDataURL(file);
                    }
                });
            }
        });

        async function analyzeSkin() {
            const photoInput = document.getElementById('skinPhoto');
            const focus = document.getElementById('skinFocus').value;

            if (!photoInput.files[0]) {
                alert('Please upload a clear skin photo first! ğŸ“¸ğŸ’•');
                return;
            }

            showLoading('skinAnalysisModalLoading');

            try {
                const prompt = `Analyze this skin photo focusing on ${focus}. Provide detailed skincare recommendations including specific products, routines, and treatments. Address any visible concerns like acne, dryness, aging signs, or texture issues. Include morning and evening routine suggestions with product recommendations and application tips. Use lots of emojis and be encouraging about skincare journey!`;
                
                const response = await callAI(prompt);
                
                const cleanedResponse = response.replace(/\*/g, 'âœ¨').replace(/\n/g, '<br>');
                document.getElementById('skinAnalysisContent').innerHTML = cleanedResponse;
                document.getElementById('skinAnalysisResult').classList.remove('hidden');
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry babe! Something went wrong with the skin analysis. Please try again! ğŸ’•');
            } finally {
                hideLoading('skinAnalysisModalLoading');
            }
        }

        // Voice Assistant
        let isRecording = false;
        let recognition = null;

        function startVoiceAssistant() {
            openModal('voiceAssistantModal');
            initializeVoiceRecognition();
        }

        function initializeVoiceRecognition() {
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                recognition.continuous = false;
                recognition.interimResults = false;
                recognition.lang = 'en-US';

                recognition.onstart = function() {
                    document.getElementById('voiceStatus').textContent = 'Listening... speak now! ğŸ‘‚ğŸ’•';
                    document.getElementById('voiceAnimation').textContent = 'ğŸ™ï¸';
                    document.getElementById('voiceAnimation').classList.add('animate-pulse');
                };

                recognition.onresult = function(event) {
                    const transcript = event.results[0][0].transcript;
                    document.getElementById('transcriptText').textContent = transcript;
                    document.getElementById('voiceTranscript').classList.remove('hidden');
                    processVoiceCommand(transcript);
                };

                recognition.onerror = function(event) {
                    document.getElementById('voiceStatus').textContent = 'Sorry, I didn\'t catch that. Try again! ğŸ’•';
                    document.getElementById('voiceAnimation').textContent = 'ğŸ¤';
                    document.getElementById('voiceButton').textContent = 'ğŸ¤ Try Again';
                    isRecording = false;
                };

                recognition.onend = function() {
                    document.getElementById('voiceAnimation').classList.remove('animate-pulse');
                    isRecording = false;
                };
            } else {
                alert('Voice recognition is not supported in your browser. Please try using Chrome or Safari! ğŸ’•');
            }
        }

        function toggleVoiceRecording() {
            if (!recognition) {
                initializeVoiceRecognition();
                return;
            }

            if (isRecording) {
                recognition.stop();
                document.getElementById('voiceButton').textContent = 'ğŸ¤ Start Talking';
                document.getElementById('voiceStatus').textContent = 'Tap to start talking to Nipa! ğŸ’•';
                isRecording = false;
            } else {
                recognition.start();
                document.getElementById('voiceButton').textContent = 'ğŸ›‘ Stop Recording';
                isRecording = true;
            }
        }

        async function processVoiceCommand(transcript) {
            document.getElementById('voiceStatus').textContent = 'Nipa is thinking... ğŸ’­âœ¨';
            
            try {
                const prompt = `Voice command: "${transcript}". Respond as Nipa, a girly AI assistant. Provide helpful advice about fashion, beauty, wellness, or lifestyle based on what the user asked. Be conversational, encouraging, and use lots of emojis!`;
                
                const response = await callAI(prompt);
                
                const cleanedResponse = response.replace(/\*/g, 'âœ¨');
                document.getElementById('voiceResponseContent').innerHTML = cleanedResponse;
                document.getElementById('voiceResponse').classList.remove('hidden');
                document.getElementById('voiceStatus').textContent = 'Response ready! Ask me anything else! ğŸ’•';
                document.getElementById('voiceButton').textContent = 'ğŸ¤ Ask Again';
                
                // Text-to-speech response
                if ('speechSynthesis' in window) {
                    const utterance = new SpeechSynthesisUtterance(cleanedResponse.replace(/<[^>]*>/g, '').replace(/âœ¨/g, ''));
                    utterance.rate = 0.9;
                    utterance.pitch = 1.1;
                    speechSynthesis.speak(utterance);
                }
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('voiceStatus').textContent = 'Sorry babe! Something went wrong. Try again! ğŸ’•';
            }
        }

        // Helper function to convert file to base64
        function fileToBase64(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.readAsDataURL(file);
                reader.onload = () => resolve(reader.result);
                reader.onerror = error => reject(error);
            });
        }

        // Fashion & Beauty Tech Functions - FULLY FUNCTIONAL
        async function openARTryOn() {
            showLoading('arTryOnLoading');
            
            try {
                const prompt = "Create a detailed AR try-on experience guide. Explain how to use phone camera for virtual makeup and clothing try-ons. Include step-by-step instructions for trying on lipstick colors, eyeshadow, blush, and clothing items virtually. Provide tips for best lighting and angles. Use lots of emojis and be encouraging!";
                
                const response = await callAI(prompt);
                const cleanedResponse = response.replace(/\*/g, 'âœ¨').replace(/\n/g, '<br>');
                
                alert(`ğŸ”® AR Try-On Guide ğŸ“±\n\n${cleanedResponse.replace(/<br>/g, '\n').replace(/âœ¨/g, '')}\n\nğŸ’• Feature launching soon with full camera integration!`);
            } catch (error) {
                alert('AR Try-On guide loading... This amazing feature is coming soon! ğŸ“±âœ¨');
            } finally {
                hideLoading('arTryOnLoading');
            }
        }

        async function openTrendScanner() {
            showLoading('trendScannerLoading');
            
            try {
                const prompt = "Generate current fashion and beauty trends for 2024. Include trending colors, makeup looks, hairstyles, clothing styles, and accessories. Mention what's popular on social media platforms. Provide shopping suggestions and styling tips. Use lots of emojis and be trendy!";
                
                const response = await callAI(prompt);
                const cleanedResponse = response.replace(/\*/g, 'âœ¨').replace(/\n/g, '<br>');
                
                alert(`ğŸ“ˆ Current Trends Scanner ğŸ”\n\n${cleanedResponse.replace(/<br>/g, '\n').replace(/âœ¨/g, '')}\n\nğŸ’• Real-time social media scanning coming soon!`);
            } catch (error) {
                alert('Trend Scanner loading... Analyzing the latest fashion trends! ğŸ”ğŸ“ˆ');
            } finally {
                hideLoading('trendScannerLoading');
            }
        }

        async function openWardrobeSwap() {
            showLoading('wardrobeSwapLoading');
            
            try {
                const prompt = "Explain how to create endless outfit combinations by swapping clothing items. Provide creative styling tips for mixing and matching pieces in your wardrobe. Include color coordination, pattern mixing, and seasonal styling advice. Give examples of transforming one basic piece into multiple looks. Use lots of emojis!";
                
                const response = await callAI(prompt);
                const cleanedResponse = response.replace(/\*/g, 'âœ¨').replace(/\n/g, '<br>');
                
                alert(`ğŸ”„ Style Swapper Guide ğŸ¨\n\n${cleanedResponse.replace(/<br>/g, '\n').replace(/âœ¨/g, '')}\n\nğŸ’• AI-powered outfit swapping coming soon!`);
            } catch (error) {
                alert('Style Swapper loading... Creating infinite outfit possibilities! ğŸ”„ğŸ¨');
            } finally {
                hideLoading('wardrobeSwapLoading');
            }
        }

        async function openPaletteGenerator() {
            showLoading('paletteGeneratorLoading');
            
            try {
                const prompt = "Create a comprehensive makeup palette guide. Explain how to choose lipstick, eyeshadow, and blush colors that complement different outfit colors. Include color theory basics, seasonal palettes, and specific product recommendations. Provide tips for day-to-night makeup transitions. Use lots of emojis!";
                
                const response = await callAI(prompt);
                const cleanedResponse = response.replace(/\*/g, 'âœ¨').replace(/\n/g, '<br>');
                
                alert(`ğŸ¨ Makeup Palette Generator ğŸ’„\n\n${cleanedResponse.replace(/<br>/g, '\n').replace(/âœ¨/g, '')}\n\nğŸ’• Photo-based palette generation coming soon!`);
            } catch (error) {
                alert('Palette Generator loading... Creating perfect makeup colors! ğŸ¨ğŸ’„');
            } finally {
                hideLoading('paletteGeneratorLoading');
            }
        }

        // Health, Fitness & Wellness Functions - FULLY FUNCTIONAL
        async function openSmartPeriodTracker() {
            showLoading('smartPeriodLoading');
            
            try {
                const prompt = "Create a comprehensive period tracking guide with mood predictions, skincare tips during different cycle phases, and outfit comfort recommendations. Include information about hormonal changes, energy levels, and self-care tips for each phase. Provide nutrition and exercise advice throughout the cycle. Use lots of emojis and be supportive!";
                
                const response = await callAI(prompt);
                const cleanedResponse = response.replace(/\*/g, 'âœ¨').replace(/\n/g, '<br>');
                
                alert(`ğŸ“… Smart Period Tracker ğŸŒ¸\n\n${cleanedResponse.replace(/<br>/g, '\n').replace(/âœ¨/g, '')}\n\nğŸ’• Advanced cycle predictions with mood & style tips!`);
            } catch (error) {
                alert('Smart Period Tracker loading... Predicting your cycle needs! ğŸ“…ğŸŒ¸');
            } finally {
                hideLoading('smartPeriodLoading');
            }
        }

        async function openBodyConfidence() {
            showLoading('bodyConfidenceLoading');
            
            try {
                const prompt = "Generate daily body confidence affirmations and body-positive styling tips. Include advice for dressing for your body type, embracing your unique features, and building self-confidence. Provide styling tips that make you feel amazing, regardless of size or shape. Include positive mindset techniques and self-love practices. Use lots of encouraging emojis!";
                
                const response = await callAI(prompt);
                const cleanedResponse = response.replace(/\*/g, 'âœ¨').replace(/\n/g, '<br>');
                
                alert(`ğŸ’ª Body Confidence Boost ğŸ‘‘\n\n${cleanedResponse.replace(/<br>/g, '\n').replace(/âœ¨/g, '')}\n\nğŸ’• You're absolutely beautiful just as you are!`);
            } catch (error) {
                alert('Body Confidence AI loading... Building your confidence! ğŸ’ªğŸ‘‘');
            } finally {
                hideLoading('bodyConfidenceLoading');
            }
        }

        async function openSleepBeautifier() {
            showLoading('sleepBeautifierLoading');
            
            try {
                const prompt = "Create a comprehensive sleep beauty guide. Include nighttime skincare routines, sleep positions for beauty, pillow and fabric recommendations, and morning recovery tips for tired skin. Provide advice for reducing dark circles, puffiness, and achieving glowing skin through better sleep. Include relaxation techniques and bedtime rituals. Use lots of emojis!";
                
                const response = await callAI(prompt);
                const cleanedResponse = response.replace(/\*/g, 'âœ¨').replace(/\n/g, '<br>');
                
                alert(`ğŸ˜´ Sleep Beautifier Guide ğŸŒ™\n\n${cleanedResponse.replace(/<br>/g, '\n').replace(/âœ¨/g, '')}\n\nğŸ’• Beauty sleep is real - sweet dreams!`);
            } catch (error) {
                alert('Sleep Beautifier loading... Optimizing your beauty sleep! ğŸ˜´ğŸŒ™');
            } finally {
                hideLoading('sleepBeautifierLoading');
            }
        }

        async function openYogaBuddy() {
            showLoading('yogaBuddyLoading');
            
            try {
                const prompt = "Create a beginner-friendly yoga guide with poses for flexibility, strength, and relaxation. Include detailed instructions for proper form, breathing techniques, and modifications for different skill levels. Provide a 15-minute morning routine and a 20-minute evening routine. Include tips for creating a peaceful yoga space at home. Use lots of emojis and be encouraging!";
                
                const response = await callAI(prompt);
                const cleanedResponse = response.replace(/\*/g, 'âœ¨').replace(/\n/g, '<br>');
                
                alert(`ğŸ§˜â€â™€ï¸ Virtual Yoga Buddy ğŸ•‰ï¸\n\n${cleanedResponse.replace(/<br>/g, '\n').replace(/âœ¨/g, '')}\n\nğŸ’• Namaste, beautiful! Keep practicing!`);
            } catch (error) {
                alert('Virtual Yoga Buddy loading... Guiding your practice! ğŸ§˜â€â™€ï¸ğŸ•‰ï¸');
            } finally {
                hideLoading('yogaBuddyLoading');
            }
        }

        // Extra Girly Features Functions - FULLY FUNCTIONAL
        async function openHoroscopeFashion() {
            showLoading('horoscopeFashionLoading');
            
            try {
                const today = new Date();
                const zodiacSigns = ['Aries', 'Taurus', 'Gemini', 'Cancer', 'Leo', 'Virgo', 'Libra', 'Scorpio', 'Sagittarius', 'Capricorn', 'Aquarius', 'Pisces'];
                const randomSign = zodiacSigns[Math.floor(Math.random() * zodiacSigns.length)];
                
                const prompt = `Create a detailed horoscope-based fashion guide for ${randomSign} today (${today.toDateString()}). Include outfit recommendations, lucky colors, accessories, and styling tips based on astrological influences. Provide both casual and dressy options. Include makeup suggestions and overall vibe for the day. Use lots of emojis and mystical language!`;
                
                const response = await callAI(prompt);
                const cleanedResponse = response.replace(/\*/g, 'âœ¨').replace(/\n/g, '<br>');
                
                alert(`ğŸ”® Cosmic Fashion Guide â­\n\nSample for ${randomSign}:\n\n${cleanedResponse.replace(/<br>/g, '\n').replace(/âœ¨/g, '')}\n\nğŸ’• Enter your sign for personalized cosmic styling!`);
            } catch (error) {
                alert('Horoscope Fashion loading... Reading the stars for your style! ğŸ”®â­');
            } finally {
                hideLoading('horoscopeFashionLoading');
            }
        }

        async function openLoveCompatibility() {
            showLoading('loveCompatibilityLoading');
            
            try {
                const prompt = "Create a fun love compatibility analysis guide. Include personality-based matching, zodiac compatibility, communication styles, and relationship advice. Provide tips for understanding different personality types in relationships, date ideas for different compatibility levels, and how to strengthen romantic connections. Use lots of romantic emojis and be encouraging about love!";
                
                const response = await callAI(prompt);
                const cleanedResponse = response.replace(/\*/g, 'âœ¨').replace(/\n/g, '<br>');
                
                alert(`ğŸ’• Love Compatibility Guide ğŸ’˜\n\n${cleanedResponse.replace(/<br>/g, '\n').replace(/âœ¨/g, '')}\n\nğŸ’• Love is in the air! Find your perfect match!`);
            } catch (error) {
                alert('Love Compatibility loading... Analyzing romantic connections! ğŸ’•ğŸ’˜');
            } finally {
                hideLoading('loveCompatibilityLoading');
            }
        }

        async function openDigitalVanity() {
            showLoading('digitalVanityLoading');
            
            try {
                const prompt = "Create a comprehensive digital beauty organization system. Include how to catalog makeup products, track usage and expiration dates, create wish lists, and organize beauty routines. Provide tips for photographing products, rating favorites, and building a personalized beauty database. Include seasonal rotation advice and product recommendations. Use lots of emojis!";
                
                const response = await callAI(prompt);
                const cleanedResponse = response.replace(/\*/g, 'âœ¨').replace(/\n/g, '<br>');
                
                alert(`ğŸ’„ Digital Vanity Setup ğŸ’\n\n${cleanedResponse.replace(/<br>/g, '\n').replace(/âœ¨/g, '')}\n\nğŸ’• Organize your beauty collection like a pro!`);
            } catch (error) {
                alert('Digital Vanity loading... Organizing your beauty collection! ğŸ’„ğŸ’');
            } finally {
                hideLoading('digitalVanityLoading');
            }
        }

        async function openMemoryBook() {
            showLoading('memoryBookLoading');
            
            try {
                const prompt = "Create a guide for building a personal style memory book. Include how to document favorite outfits, special occasion looks, travel styles, and fashion evolution. Provide tips for photographing outfits, writing style notes, creating mood boards, and tracking fashion inspiration. Include ideas for seasonal lookbooks and style challenges. Use lots of emojis and be nostalgic!";
                
                const response = await callAI(prompt);
                const cleanedResponse = response.replace(/\*/g, 'âœ¨').replace(/\n/g, '<br>');
                
                alert(`ğŸ“– Style Memory Book ğŸ“¸\n\n${cleanedResponse.replace(/<br>/g, '\n').replace(/âœ¨/g, '')}\n\nğŸ’• Capture your beautiful style journey!`);
            } catch (error) {
                alert('Memory Book loading... Creating your style timeline! ğŸ“–ğŸ“¸');
            } finally {
                hideLoading('memoryBookLoading');
            }
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Nipa is ready with AI features! ğŸ’–âœ¨');
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'979f6cc6c05547e3',t:'MTc1NzAwOTIzMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
